<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="ipynb_website:version" content="0.9.7" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="twitter:card" content="summary_large_image"></meta>
<meta property="og:title" content="US Macroeconomic Data Explorer | US Air Freight and Waterway Volumes" />
<meta property="og:type" content="article" />
<meta property="og:description" content="A look at air and domestic waterway freight volumes, according to the US DOT Bureau of Transportation Statistics." />
<meta property="og:image" content="https://pymoment.github.io/us-macro/analysis/transportation-air-waterway.png" />
<meta property="og:url" content="https://pymoment.github.io/us-macro/analysis/transportation-air-waterway.html" />

<!-- begin stylesheets -->

<link rel="stylesheet"
    href="../css/jt.css">
<link rel="stylesheet"
    href="../css/toc2.css">
<link rel="stylesheet"
    href="../site_libs/jqueryui-1.11.4/jquery-ui.css">
<link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<link rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/styles/default.min.css">
    
<link rel="stylesheet" type="text/css" href="../css/readable.css">
<!-- end stylesheets -->

<!-- begin javascript -->

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Bootstrap 4 -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<!-- Vega/Vegalite -->
<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    
<!-- end javascript -->


<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
    if (window.hljs &&
        document.readyState &&
        document.readyState === "complete") {
       window.setTimeout(() => {
          hljs.initHighlighting();
       }, 0);
    }
</script>
    

<script src="../js/doc_toc.js"></script>
<script src="../js/docs.js"></script>


<script>
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
        },
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["TeX"],
            styles: {
                scale: 110,
                ".MathJax_Display": {
                    "font-size": "110%%",
                }
            }
        }
    });
</script>
    

<script>
function filterDataFrame(id) {
    var input = document.getElementById("search_" + id);
    var filter = input.value.toUpperCase();
    var table = document.getElementById("dataframe_" + id);
    var tr = table.getElementsByTagName("tr");
    // Loop through all table rows, and hide those who don't match the search query
    for (var i = 1; i < tr.length; i++) {
        for (var j = 0; j < tr[i].cells.length; ++j) {
            var matched = false;
            if (tr[i].cells[j].innerHTML.toUpperCase().indexOf(filter) != -1) {
                tr[i].style.display = "";
                matched = true
                break;
            }
            if (!matched)
                tr[i].style.display = "none";
        }
    }
}

function sortDataFrame(id, n, dtype) {
    var table = document.getElementById("dataframe_" + id);
    var tb = table.tBodies[0]; // use `<tbody>` to ignore `<thead>` and `<tfoot>` rows
    var tr = Array.prototype.slice.call(tb.rows, 0); // put rows into array
    if (dtype === 'numeric') {
        var fn = (a, b) =>
            parseFloat(a.cells[n].textContent) <= parseFloat(b.cells[n].textContent) ? -1 : 1;
    } else {
        var fn = function(a, b) {
            var c = a.cells[n].textContent.trim().localeCompare(b.cells[n].textContent.trim());
            return c > 0 ? 1 : (c < 0 ? -1 : 0) }
    }
    var isSorted = function(array, fn) {
        if (array.length < 2)
            return 1;
        var direction = fn(array[0], array[1]);
        for (var i = 1; i < array.length - 1; ++i) {
            var d = fn(array[i], array[i+1]);
            if (d == 0)
                continue;
            else if (direction == 0)
                direction = d;
            else if (direction != d)
                return 0;
            }
        return direction;
    }
    var sorted = isSorted(tr, fn);
    if (sorted == 1 || sorted == -1) {
        // if sorted already, reverse it
        for(var i = tr.length - 1; i >= 0; --i)
            tb.appendChild(tr[i]); // append each row in order
    } else {
        tr = tr.sort(fn);
        for(var i = 0; i < tr.length; ++i)
            tb.appendChild(tr[i]); // append each row in order
    }
}
</script>




<script>
    // manage active state of menu based on current page
    $(document).ready(function () {
      // active menu anchor
      href = window.location.pathname
      href = href.substr(href.lastIndexOf('/') + 1)
      if (href === "")
        href = "index.html";
      var menuAnchor = $('a[href*="' + href + '"]');
      // mark it active
      menuAnchor.parent().addClass('active');
      // if it's got a parent navbar menu mark it active as well
      menuAnchor.closest('li.dropdown').addClass('active');
    });
</script>
    

<div class="container-fluid main-container">

<!-- tabsets -->
<script src="../site_libs/navigation-1.1/tabsets.js"></script>
<script>
    $(document).ready(function () {
      window.buildTabsets("TOC");
    });
</script>



<title>US Macroeconomic Data Explorer | US Air Freight and Waterway Volumes</title>

<style type = "text/css">
    body {
      
    }
</style>
</head>

<body>
<div tabindex="-1" id="notebook" class="border-box-sizing">
<div class="container" id="notebook-container">

<!-- code folding -->


<nav class="navbar navbar-expand-lg sticky-top navbar-light bg-light">
    <a class="navbar-brand" href="../index.html">US Macroeconomic Data Explorer</a>
    <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#navbar" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="navbar-nav mr-auto">
        
<li class="nav-item">
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
</li>
        
<li class="nav-item dropdown">
  <a class="nav-link dropdown-toggle btn" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="background-color: steelblue; color: white;">
    Explore other charts
  </a>
  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
  

    <a class="dropdown-item" href="../analysis/autos.html">Autos</a>
        
    <a class="dropdown-item" href="../analysis/construction.html">Construction</a>
        
    <a class="dropdown-item" href="../analysis/creditcards.html">Creditcards</a>
        
    <a class="dropdown-item" href="../analysis/dairy.html">Dairy</a>
        
    <a class="dropdown-item" href="../analysis/electricity.html">Electricity</a>
        
    <a class="dropdown-item" href="../analysis/international-trade.html">International Trade</a>
        
    <a class="dropdown-item" href="../analysis/labor.html">Labor</a>
        
    <a class="dropdown-item" href="../analysis/manufacturing.html">Manufacturing</a>
        
    <a class="dropdown-item" href="../analysis/oil-gas-inventories.html">Oil Gas Inventories</a>
        
    <a class="dropdown-item" href="../analysis/residential-realestate-zillow.html">Residential Realestate Zillow</a>
        
    <a class="dropdown-item" href="../analysis/residential-realestate.html">Residential Realestate</a>
        
    <a class="dropdown-item" href="../analysis/retailsales.html">Retailsales</a>
        
    <a class="dropdown-item" href="../analysis/sentiment.html">Sentiment</a>
        
    <a class="dropdown-item" href="../analysis/services.html">Services</a>
        
    <a class="dropdown-item" href="../analysis/sp500-returns-and-performance.html">Sp500 Returns And Performance</a>
        
    <a class="dropdown-item" href="../analysis/transportation-air-waterway.html">Transportation Air Waterway</a>
        
    <a class="dropdown-item" href="../analysis/transportation-cass.html">Transportation Cass</a>
        
    <a class="dropdown-item" href="../analysis/transportation-ocean.html">Transportation Ocean</a>
        
    <a class="dropdown-item" href="../analysis/transportation-rail.html">Transportation Rail</a>
        
    <a class="dropdown-item" href="../analysis/us-treasury-auctions.html">Us Treasury Auctions</a>
        
    <a class="dropdown-item" href="../analysis/us-treasury-rates.html">Us Treasury Rates</a>
        
  </div>
</li>
      </ul>
        
<ul class="navbar-nav">
<li class="nav-item">
   <a class="nav-link" href="http://github.com/pymoment/us-macro"> source </a>
</li>
</ul>
        
    </div><!--/.nav-collapse -->
</nav><!--/.navbar -->
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="US-Air-Freight-and-Waterway-Volumes">US Air Freight and Waterway Volumes<a class="anchor-link" href="#US-Air-Freight-and-Waterway-Volumes">&#182;</a></h1><hr>
<p>A look at air and domestic waterway freight volumes, according to the US DOT Bureau of Transportation Statistics.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">environ</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="c1">#if environ.get(&quot;GITHUB_WORKFLOW&quot;):</span>
<span class="c1">#    raise RuntimeError(&quot;Requires manual updates&quot;)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">doComboChart</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;AIR_RTMFM&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;US Air Freight Volume&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Volume [ton-miles]&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>

    <span class="n">brush</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;interval&#39;</span><span class="p">,</span> <span class="n">encodings</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
    
    <span class="n">base</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()[[</span><span class="s1">&#39;dt&#39;</span><span class="p">,</span> <span class="n">metric</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span><span class="o">.</span><span class="n">mark_line</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;dt:T&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)),</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">metric</span><span class="si">}</span><span class="s1">:Q&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">label</span><span class="p">)),</span>
        <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s2">&quot;dt:T&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%b %Y&quot;</span><span class="p">),</span> <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">metric</span><span class="si">}</span><span class="s2">:Q&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;,.02f&quot;</span><span class="p">)]</span>
    <span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">750</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="mi">400</span>
    <span class="p">)</span>

    <span class="n">upper</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">transform_window</span><span class="p">(</span>
        <span class="n">window</span><span class="o">=</span><span class="p">[</span><span class="n">alt</span><span class="o">.</span><span class="n">WindowFieldDef</span><span class="p">(</span><span class="s2">&quot;lag&quot;</span><span class="p">,</span> <span class="n">metric</span><span class="p">,</span> <span class="n">param</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span> <span class="s1">&#39;as&#39;</span><span class="p">:</span> <span class="s1">&#39;previous&#39;</span> <span class="p">})],</span>
        <span class="n">sort</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;dt&quot;</span><span class="p">}],</span>
    <span class="p">)</span><span class="o">.</span><span class="n">transform_calculate</span><span class="p">(</span>
        <span class="n">yoy</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;((datum[&#39;</span><span class="si">{</span><span class="n">metric</span><span class="si">}</span><span class="s2">&#39;] - datum.previous) / datum.previous) * 100&quot;</span>
    <span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;dt:T&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="n">brush</span><span class="p">),</span> <span class="n">impute</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">ImputeParams</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">)),</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;yoy:Q&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Year-over-Year Growth [%]&#39;</span><span class="p">),</span> <span class="n">impute</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">ImputeParams</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">keyvals</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">1000</span><span class="p">])),</span>
        <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">condition</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;datum[&#39;yoy&#39;] &lt; 0&quot;</span><span class="p">,</span>
            <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;lightsalmon&#39;</span><span class="p">),</span>
            <span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;royalblue&#39;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="p">)</span>
    
    <span class="n">lower</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
        <span class="n">height</span><span class="o">=</span><span class="mi">100</span>
    <span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">upper</span> <span class="o">&amp;</span> <span class="n">lower</span><span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">background</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># https://data.bts.gov/Research-and-Statistics/Transportation-Services-Index-and-Seasonally-Adjus/bw6n-ddqk</span>

<span class="n">df_af</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://data.bts.gov/api/views/bw6n-ddqk/rows.csv?accessType=DOWNLOAD&#39;</span><span class="p">)</span>
<span class="n">df_af</span> <span class="o">=</span> <span class="n">df_af</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span>
<span class="n">df_af</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dt&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df_af</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="c1">#df_af.head()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Airline-Freight">Airline Freight<a class="anchor-link" href="#Airline-Freight">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">doComboChart</span><span class="p">(</span><span class="n">df_af</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;transportation-air-waterway.png&#39;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>



   
        
            
<div class="output_html rendered_html output_subarea ">
<div id="altair-viz-9bcbe9f8548c4e99940303c27a86e96b"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-9bcbe9f8548c4e99940303c27a86e96b") {
      outputDiv = document.getElementById("altair-viz-9bcbe9f8548c4e99940303c27a86e96b");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"mark": {"type": "bar", "color": "blue", "width": 2}, "encoding": {"color": {"condition": {"value": "lightsalmon", "test": "datum['yoy'] < 0"}, "value": "royalblue"}, "tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "AIR_RTMFM", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "impute": {"value": null}, "scale": {"domain": {"selection": "selector001"}}, "type": "temporal"}, "y": {"axis": {"title": "Year-over-Year Growth [%]"}, "field": "yoy", "impute": {"keyvals": [400, 1000], "method": "value"}, "type": "quantitative"}}, "height": 400, "title": "US Air Freight Volume", "transform": [{"window": [{"op": "lag", "field": "AIR_RTMFM", "param": 12, "as": "previous"}], "sort": [{"field": "dt"}]}, {"calculate": "((datum['AIR_RTMFM'] - datum.previous) / datum.previous) * 100", "as": "yoy"}], "width": 750}, {"mark": {"type": "line", "color": "purple"}, "encoding": {"tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "AIR_RTMFM", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "type": "temporal"}, "y": {"axis": {"title": "Volume [ton-miles]"}, "field": "AIR_RTMFM", "type": "quantitative"}}, "height": 100, "selection": {"selector001": {"type": "interval", "encodings": ["x"]}}, "width": 750}], "background": "white", "data": {"name": "data-0c0773bceca82d48cf0e0f3b99f6e06a"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-0c0773bceca82d48cf0e0f3b99f6e06a": [{"dt": "01/01/2000", "AIR_RTMFM": 2182683.0}, {"dt": "02/01/2000", "AIR_RTMFM": 2341123.0}, {"dt": "03/01/2000", "AIR_RTMFM": 2699633.0}, {"dt": "04/01/2000", "AIR_RTMFM": 2528558.0}, {"dt": "05/01/2000", "AIR_RTMFM": 2528225.0}, {"dt": "06/01/2000", "AIR_RTMFM": 2537148.0}, {"dt": "07/01/2000", "AIR_RTMFM": 2461623.0}, {"dt": "08/01/2000", "AIR_RTMFM": 2623412.0}, {"dt": "09/01/2000", "AIR_RTMFM": 2711279.0}, {"dt": "10/01/2000", "AIR_RTMFM": 2839068.0}, {"dt": "11/01/2000", "AIR_RTMFM": 2702423.0}, {"dt": "12/01/2000", "AIR_RTMFM": 2707863.0}, {"dt": "01/01/2001", "AIR_RTMFM": 2290401.0}, {"dt": "02/01/2001", "AIR_RTMFM": 2276553.0}, {"dt": "03/01/2001", "AIR_RTMFM": 2671787.0}, {"dt": "04/01/2001", "AIR_RTMFM": 2399580.0}, {"dt": "05/01/2001", "AIR_RTMFM": 2415262.0}, {"dt": "06/01/2001", "AIR_RTMFM": 2475195.0}, {"dt": "07/01/2001", "AIR_RTMFM": 2226571.0}, {"dt": "08/01/2001", "AIR_RTMFM": 2356106.0}, {"dt": "09/01/2001", "AIR_RTMFM": 1998724.0}, {"dt": "10/01/2001", "AIR_RTMFM": 2417439.0}, {"dt": "11/01/2001", "AIR_RTMFM": 2261922.0}, {"dt": "12/01/2001", "AIR_RTMFM": 2332011.0}, {"dt": "01/01/2002", "AIR_RTMFM": 2049355.0}, {"dt": "02/01/2002", "AIR_RTMFM": 2024465.0}, {"dt": "03/01/2002", "AIR_RTMFM": 2483076.0}, {"dt": "04/01/2002", "AIR_RTMFM": 2426477.0}, {"dt": "05/01/2002", "AIR_RTMFM": 2408401.0}, {"dt": "06/01/2002", "AIR_RTMFM": 2477418.0}, {"dt": "07/01/2002", "AIR_RTMFM": 2521489.0}, {"dt": "08/01/2002", "AIR_RTMFM": 2518364.0}, {"dt": "09/01/2002", "AIR_RTMFM": 2385972.0}, {"dt": "10/01/2002", "AIR_RTMFM": 3345807.0}, {"dt": "11/01/2002", "AIR_RTMFM": 3074803.0}, {"dt": "12/01/2002", "AIR_RTMFM": 2810584.0}, {"dt": "01/01/2003", "AIR_RTMFM": 2573661.0}, {"dt": "02/01/2003", "AIR_RTMFM": 2446178.0}, {"dt": "03/01/2003", "AIR_RTMFM": 2925823.0}, {"dt": "04/01/2003", "AIR_RTMFM": 2733039.0}, {"dt": "05/01/2003", "AIR_RTMFM": 2732471.0}, {"dt": "06/01/2003", "AIR_RTMFM": 2680999.0}, {"dt": "07/01/2003", "AIR_RTMFM": 2794091.0}, {"dt": "08/01/2003", "AIR_RTMFM": 2819634.0}, {"dt": "09/01/2003", "AIR_RTMFM": 2748240.0}, {"dt": "10/01/2003", "AIR_RTMFM": 3104919.0}, {"dt": "11/01/2003", "AIR_RTMFM": 3008398.0}, {"dt": "12/01/2003", "AIR_RTMFM": 2973296.0}, {"dt": "01/01/2004", "AIR_RTMFM": 2618911.0}, {"dt": "02/01/2004", "AIR_RTMFM": 2825337.0}, {"dt": "03/01/2004", "AIR_RTMFM": 3269430.0}, {"dt": "04/01/2004", "AIR_RTMFM": 3087285.0}, {"dt": "05/01/2004", "AIR_RTMFM": 3083767.0}, {"dt": "06/01/2004", "AIR_RTMFM": 3081024.0}, {"dt": "07/01/2004", "AIR_RTMFM": 3188225.0}, {"dt": "08/01/2004", "AIR_RTMFM": 3112989.0}, {"dt": "09/01/2004", "AIR_RTMFM": 3246085.0}, {"dt": "10/01/2004", "AIR_RTMFM": 3517860.0}, {"dt": "11/01/2004", "AIR_RTMFM": 3438313.0}, {"dt": "12/01/2004", "AIR_RTMFM": 3485518.0}, {"dt": "01/01/2005", "AIR_RTMFM": 2977459.0}, {"dt": "02/01/2005", "AIR_RTMFM": 2815089.0}, {"dt": "03/01/2005", "AIR_RTMFM": 3427927.0}, {"dt": "04/01/2005", "AIR_RTMFM": 3305046.0}, {"dt": "05/01/2005", "AIR_RTMFM": 3186654.0}, {"dt": "06/01/2005", "AIR_RTMFM": 3332961.0}, {"dt": "07/01/2005", "AIR_RTMFM": 3221428.0}, {"dt": "08/01/2005", "AIR_RTMFM": 3271476.0}, {"dt": "09/01/2005", "AIR_RTMFM": 3312249.0}, {"dt": "10/01/2005", "AIR_RTMFM": 3504372.0}, {"dt": "11/01/2005", "AIR_RTMFM": 3494552.0}, {"dt": "12/01/2005", "AIR_RTMFM": 3457971.0}, {"dt": "01/01/2006", "AIR_RTMFM": 2921183.0}, {"dt": "02/01/2006", "AIR_RTMFM": 2760326.0}, {"dt": "03/01/2006", "AIR_RTMFM": 3617369.0}, {"dt": "04/01/2006", "AIR_RTMFM": 3270920.0}, {"dt": "05/01/2006", "AIR_RTMFM": 3210319.0}, {"dt": "06/01/2006", "AIR_RTMFM": 3367968.0}, {"dt": "07/01/2006", "AIR_RTMFM": 3201529.0}, {"dt": "08/01/2006", "AIR_RTMFM": 3395702.0}, {"dt": "09/01/2006", "AIR_RTMFM": 3387556.0}, {"dt": "10/01/2006", "AIR_RTMFM": 3514733.0}, {"dt": "11/01/2006", "AIR_RTMFM": 3606059.0}, {"dt": "12/01/2006", "AIR_RTMFM": 3506047.0}, {"dt": "01/01/2007", "AIR_RTMFM": 3026361.0}, {"dt": "02/01/2007", "AIR_RTMFM": 2908924.0}, {"dt": "03/01/2007", "AIR_RTMFM": 3590561.0}, {"dt": "04/01/2007", "AIR_RTMFM": 3256970.0}, {"dt": "05/01/2007", "AIR_RTMFM": 3283361.0}, {"dt": "06/01/2007", "AIR_RTMFM": 3282603.0}, {"dt": "07/01/2007", "AIR_RTMFM": 3237816.0}, {"dt": "08/01/2007", "AIR_RTMFM": 3373928.0}, {"dt": "09/01/2007", "AIR_RTMFM": 3321480.0}, {"dt": "10/01/2007", "AIR_RTMFM": 3560820.0}, {"dt": "11/01/2007", "AIR_RTMFM": 3560924.0}, {"dt": "12/01/2007", "AIR_RTMFM": 3458868.0}, {"dt": "01/01/2008", "AIR_RTMFM": 3065185.0}, {"dt": "02/01/2008", "AIR_RTMFM": 2937434.0}, {"dt": "03/01/2008", "AIR_RTMFM": 3365775.0}, {"dt": "04/01/2008", "AIR_RTMFM": 3414759.0}, {"dt": "05/01/2008", "AIR_RTMFM": 3243077.0}, {"dt": "06/01/2008", "AIR_RTMFM": 3103666.0}, {"dt": "07/01/2008", "AIR_RTMFM": 3101001.0}, {"dt": "08/01/2008", "AIR_RTMFM": 3043654.0}, {"dt": "09/01/2008", "AIR_RTMFM": 2973954.0}, {"dt": "10/01/2008", "AIR_RTMFM": 3142112.0}, {"dt": "11/01/2008", "AIR_RTMFM": 2791288.0}, {"dt": "12/01/2008", "AIR_RTMFM": 2629749.0}, {"dt": "01/01/2009", "AIR_RTMFM": 2257630.0}, {"dt": "02/01/2009", "AIR_RTMFM": 2190771.0}, {"dt": "03/01/2009", "AIR_RTMFM": 2493784.0}, {"dt": "04/01/2009", "AIR_RTMFM": 2474719.0}, {"dt": "05/01/2009", "AIR_RTMFM": 2427371.0}, {"dt": "06/01/2009", "AIR_RTMFM": 2613309.0}, {"dt": "07/01/2009", "AIR_RTMFM": 2618063.0}, {"dt": "08/01/2009", "AIR_RTMFM": 2612420.0}, {"dt": "09/01/2009", "AIR_RTMFM": 2747556.0}, {"dt": "10/01/2009", "AIR_RTMFM": 3045702.0}, {"dt": "11/01/2009", "AIR_RTMFM": 3052858.0}, {"dt": "12/01/2009", "AIR_RTMFM": 3127833.0}, {"dt": "01/01/2010", "AIR_RTMFM": 2628608.0}, {"dt": "02/01/2010", "AIR_RTMFM": 2564858.0}, {"dt": "03/01/2010", "AIR_RTMFM": 3056955.0}, {"dt": "04/01/2010", "AIR_RTMFM": 2990288.0}, {"dt": "05/01/2010", "AIR_RTMFM": 3123899.0}, {"dt": "06/01/2010", "AIR_RTMFM": 3083661.0}, {"dt": "07/01/2010", "AIR_RTMFM": 3069914.0}, {"dt": "08/01/2010", "AIR_RTMFM": 3056160.0}, {"dt": "09/01/2010", "AIR_RTMFM": 3086870.0}, {"dt": "10/01/2010", "AIR_RTMFM": 3315367.0}, {"dt": "11/01/2010", "AIR_RTMFM": 3238034.0}, {"dt": "12/01/2010", "AIR_RTMFM": 3301087.0}, {"dt": "01/01/2011", "AIR_RTMFM": 2872137.0}, {"dt": "02/01/2011", "AIR_RTMFM": 2662372.0}, {"dt": "03/01/2011", "AIR_RTMFM": 3410298.0}, {"dt": "04/01/2011", "AIR_RTMFM": 3179047.0}, {"dt": "05/01/2011", "AIR_RTMFM": 3082305.0}, {"dt": "06/01/2011", "AIR_RTMFM": 3080023.0}, {"dt": "07/01/2011", "AIR_RTMFM": 3059306.0}, {"dt": "08/01/2011", "AIR_RTMFM": 3063273.0}, {"dt": "09/01/2011", "AIR_RTMFM": 3013752.0}, {"dt": "10/01/2011", "AIR_RTMFM": 3174452.0}, {"dt": "11/01/2011", "AIR_RTMFM": 3141029.0}, {"dt": "12/01/2011", "AIR_RTMFM": 3261313.0}, {"dt": "01/01/2012", "AIR_RTMFM": 2669174.0}, {"dt": "02/01/2012", "AIR_RTMFM": 2809512.0}, {"dt": "03/01/2012", "AIR_RTMFM": 3307453.0}, {"dt": "04/01/2012", "AIR_RTMFM": 2990274.0}, {"dt": "05/01/2012", "AIR_RTMFM": 3126142.0}, {"dt": "06/01/2012", "AIR_RTMFM": 3091102.0}, {"dt": "07/01/2012", "AIR_RTMFM": 2998876.0}, {"dt": "08/01/2012", "AIR_RTMFM": 3018293.0}, {"dt": "09/01/2012", "AIR_RTMFM": 2969583.0}, {"dt": "10/01/2012", "AIR_RTMFM": 3009063.0}, {"dt": "11/01/2012", "AIR_RTMFM": 3099439.0}, {"dt": "12/01/2012", "AIR_RTMFM": 3070883.0}, {"dt": "01/01/2013", "AIR_RTMFM": 2825268.0}, {"dt": "02/01/2013", "AIR_RTMFM": 2564138.0}, {"dt": "03/01/2013", "AIR_RTMFM": 3043702.0}, {"dt": "04/01/2013", "AIR_RTMFM": 2932522.0}, {"dt": "05/01/2013", "AIR_RTMFM": 2859231.0}, {"dt": "06/01/2013", "AIR_RTMFM": 2870590.0}, {"dt": "07/01/2013", "AIR_RTMFM": 2864407.0}, {"dt": "08/01/2013", "AIR_RTMFM": 2893384.0}, {"dt": "09/01/2013", "AIR_RTMFM": 2784913.0}, {"dt": "10/01/2013", "AIR_RTMFM": 3087864.0}, {"dt": "11/01/2013", "AIR_RTMFM": 3009318.0}, {"dt": "12/01/2013", "AIR_RTMFM": 3068925.0}, {"dt": "01/01/2014", "AIR_RTMFM": 2720657.0}, {"dt": "02/01/2014", "AIR_RTMFM": 2425044.0}, {"dt": "03/01/2014", "AIR_RTMFM": 3042193.0}, {"dt": "04/01/2014", "AIR_RTMFM": 2924333.0}, {"dt": "05/01/2014", "AIR_RTMFM": 3022743.0}, {"dt": "06/01/2014", "AIR_RTMFM": 2932966.0}, {"dt": "07/01/2014", "AIR_RTMFM": 3081705.0}, {"dt": "08/01/2014", "AIR_RTMFM": 2965888.0}, {"dt": "09/01/2014", "AIR_RTMFM": 2897972.0}, {"dt": "10/01/2014", "AIR_RTMFM": 3201548.0}, {"dt": "11/01/2014", "AIR_RTMFM": 3150257.0}, {"dt": "12/01/2014", "AIR_RTMFM": 3241011.0}, {"dt": "01/01/2015", "AIR_RTMFM": 2842181.0}, {"dt": "02/01/2015", "AIR_RTMFM": 2750727.0}, {"dt": "03/01/2015", "AIR_RTMFM": 3140177.0}, {"dt": "04/01/2015", "AIR_RTMFM": 3047441.0}, {"dt": "05/01/2015", "AIR_RTMFM": 2975003.0}, {"dt": "06/01/2015", "AIR_RTMFM": 2954345.0}, {"dt": "07/01/2015", "AIR_RTMFM": 3002075.0}, {"dt": "08/01/2015", "AIR_RTMFM": 2889286.0}, {"dt": "09/01/2015", "AIR_RTMFM": 3004570.0}, {"dt": "10/01/2015", "AIR_RTMFM": 3207280.0}, {"dt": "11/01/2015", "AIR_RTMFM": 3105218.0}, {"dt": "12/01/2015", "AIR_RTMFM": 3276384.0}, {"dt": "01/01/2016", "AIR_RTMFM": 2815647.0}, {"dt": "02/01/2016", "AIR_RTMFM": 2558377.0}, {"dt": "03/01/2016", "AIR_RTMFM": 3083370.0}, {"dt": "04/01/2016", "AIR_RTMFM": 3046837.0}, {"dt": "05/01/2016", "AIR_RTMFM": 2978308.0}, {"dt": "06/01/2016", "AIR_RTMFM": 3050262.0}, {"dt": "07/01/2016", "AIR_RTMFM": 3031681.0}, {"dt": "08/01/2016", "AIR_RTMFM": 3089859.0}, {"dt": "09/01/2016", "AIR_RTMFM": 3144378.0}, {"dt": "10/01/2016", "AIR_RTMFM": 3363915.0}, {"dt": "11/01/2016", "AIR_RTMFM": 3397217.0}, {"dt": "12/01/2016", "AIR_RTMFM": 3455965.0}, {"dt": "01/01/2017", "AIR_RTMFM": 2993084.0}, {"dt": "02/01/2017", "AIR_RTMFM": 2710384.0}, {"dt": "03/01/2017", "AIR_RTMFM": 3435973.0}, {"dt": "04/01/2017", "AIR_RTMFM": 3249956.0}, {"dt": "05/01/2017", "AIR_RTMFM": 3395667.0}, {"dt": "06/01/2017", "AIR_RTMFM": 3442624.0}, {"dt": "07/01/2017", "AIR_RTMFM": 3451415.0}, {"dt": "08/01/2017", "AIR_RTMFM": 3534006.0}, {"dt": "09/01/2017", "AIR_RTMFM": 3514537.0}, {"dt": "10/01/2017", "AIR_RTMFM": 3725503.0}, {"dt": "11/01/2017", "AIR_RTMFM": 3845508.0}, {"dt": "12/01/2017", "AIR_RTMFM": 3809832.0}, {"dt": "01/01/2018", "AIR_RTMFM": 3401406.0}, {"dt": "02/01/2018", "AIR_RTMFM": 3085190.0}, {"dt": "03/01/2018", "AIR_RTMFM": 3751133.0}, {"dt": "04/01/2018", "AIR_RTMFM": 3551100.0}, {"dt": "05/01/2018", "AIR_RTMFM": 3754233.0}, {"dt": "06/01/2018", "AIR_RTMFM": 3700670.0}, {"dt": "07/01/2018", "AIR_RTMFM": 3653015.0}, {"dt": "08/01/2018", "AIR_RTMFM": 3670746.0}, {"dt": "09/01/2018", "AIR_RTMFM": 3699181.0}, {"dt": "10/01/2018", "AIR_RTMFM": 3947441.0}, {"dt": "11/01/2018", "AIR_RTMFM": 3813572.0}, {"dt": "12/01/2018", "AIR_RTMFM": 3841788.0}, {"dt": "01/01/2019", "AIR_RTMFM": 3500821.0}, {"dt": "02/01/2019", "AIR_RTMFM": 3016466.0}, {"dt": "03/01/2019", "AIR_RTMFM": 3782254.0}, {"dt": "04/01/2019", "AIR_RTMFM": 3618255.0}, {"dt": "05/01/2019", "AIR_RTMFM": 3745098.0}, {"dt": "06/01/2019", "AIR_RTMFM": 3595928.0}, {"dt": "07/01/2019", "AIR_RTMFM": 3655379.0}, {"dt": "08/01/2019", "AIR_RTMFM": 3670233.0}, {"dt": "09/01/2019", "AIR_RTMFM": 3528614.0}, {"dt": "10/01/2019", "AIR_RTMFM": 3832869.0}, {"dt": "11/01/2019", "AIR_RTMFM": 3850416.0}, {"dt": "12/01/2019", "AIR_RTMFM": 3675337.0}, {"dt": "01/01/2020", "AIR_RTMFM": 3357167.0}, {"dt": "02/01/2020", "AIR_RTMFM": 2954419.0}, {"dt": "03/01/2020", "AIR_RTMFM": 3607776.0}, {"dt": "04/01/2020", "AIR_RTMFM": 3473099.0}, {"dt": "05/01/2020", "AIR_RTMFM": 3813574.0}, {"dt": "06/01/2020", "AIR_RTMFM": 3910916.0}, {"dt": "07/01/2020", "AIR_RTMFM": 4047716.0}, {"dt": "08/01/2020", "AIR_RTMFM": 4005867.0}, {"dt": "09/01/2020", "AIR_RTMFM": 4107403.0}, {"dt": "10/01/2020", "AIR_RTMFM": 4347617.0}, {"dt": "11/01/2020", "AIR_RTMFM": 4357871.0}, {"dt": "12/01/2020", "AIR_RTMFM": 4447502.0}, {"dt": "01/01/2021", "AIR_RTMFM": 4078149.0}, {"dt": "02/01/2021", "AIR_RTMFM": 3563126.0}, {"dt": "03/01/2021", "AIR_RTMFM": 4652578.0}, {"dt": "04/01/2021", "AIR_RTMFM": 4542139.0}, {"dt": "05/01/2021", "AIR_RTMFM": 4501273.0}, {"dt": "06/01/2021", "AIR_RTMFM": 4374325.0}, {"dt": "07/01/2021", "AIR_RTMFM": 4426509.0}, {"dt": "08/01/2021", "AIR_RTMFM": 4317023.0}, {"dt": "09/01/2021", "AIR_RTMFM": 4305893.0}, {"dt": "10/01/2021", "AIR_RTMFM": 4564394.0}, {"dt": "11/01/2021", "AIR_RTMFM": 4403123.0}, {"dt": "12/01/2021", "AIR_RTMFM": 4787729.0}, {"dt": "01/01/2022", "AIR_RTMFM": 4139488.0}, {"dt": "02/01/2022", "AIR_RTMFM": 3875051.0}, {"dt": "03/01/2022", "AIR_RTMFM": 4677677.0}]}}, {"mode": "vega-lite"});
</script></div>

        
    
        
    
        
    
        
    
        
    

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Internal-Waterways-Shipping">Internal Waterways Shipping<a class="anchor-link" href="#Internal-Waterways-Shipping">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">doComboChart</span><span class="p">(</span><span class="n">df_af</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;WATERBORNE&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;US Internal Waterways Shipping Volume&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Volume [Million short tons]&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>



   
        
            
<div class="output_html rendered_html output_subarea output_execute_result">
<div id="altair-viz-f30a977ee65542d993b4fc65409cd841"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-f30a977ee65542d993b4fc65409cd841") {
      outputDiv = document.getElementById("altair-viz-f30a977ee65542d993b4fc65409cd841");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"mark": {"type": "bar", "color": "blue", "width": 2}, "encoding": {"color": {"condition": {"value": "lightsalmon", "test": "datum['yoy'] < 0"}, "value": "royalblue"}, "tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "WATERBORNE", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "impute": {"value": null}, "scale": {"domain": {"selection": "selector002"}}, "type": "temporal"}, "y": {"axis": {"title": "Year-over-Year Growth [%]"}, "field": "yoy", "impute": {"keyvals": [400, 1000], "method": "value"}, "type": "quantitative"}}, "height": 400, "title": "US Internal Waterways Shipping Volume", "transform": [{"window": [{"op": "lag", "field": "WATERBORNE", "param": 12, "as": "previous"}], "sort": [{"field": "dt"}]}, {"calculate": "((datum['WATERBORNE'] - datum.previous) / datum.previous) * 100", "as": "yoy"}], "width": 750}, {"mark": {"type": "line", "color": "purple"}, "encoding": {"tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "WATERBORNE", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "type": "temporal"}, "y": {"axis": {"title": "Volume [Million short tons]"}, "field": "WATERBORNE", "type": "quantitative"}}, "height": 100, "selection": {"selector002": {"type": "interval", "encodings": ["x"]}}, "width": 750}], "background": "white", "data": {"name": "data-fdb785f6f17cb797272cfff4c11c8758"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-fdb785f6f17cb797272cfff4c11c8758": [{"dt": "01/01/2000", "WATERBORNE": 48.4}, {"dt": "02/01/2000", "WATERBORNE": 42.0}, {"dt": "03/01/2000", "WATERBORNE": 52.5}, {"dt": "04/01/2000", "WATERBORNE": 52.2}, {"dt": "05/01/2000", "WATERBORNE": 53.5}, {"dt": "06/01/2000", "WATERBORNE": 50.4}, {"dt": "07/01/2000", "WATERBORNE": 53.3}, {"dt": "08/01/2000", "WATERBORNE": 50.9}, {"dt": "09/01/2000", "WATERBORNE": 47.3}, {"dt": "10/01/2000", "WATERBORNE": 50.8}, {"dt": "11/01/2000", "WATERBORNE": 50.0}, {"dt": "12/01/2000", "WATERBORNE": 41.3}, {"dt": "01/01/2001", "WATERBORNE": 39.3}, {"dt": "02/01/2001", "WATERBORNE": 40.9}, {"dt": "03/01/2001", "WATERBORNE": 47.1}, {"dt": "04/01/2001", "WATERBORNE": 49.4}, {"dt": "05/01/2001", "WATERBORNE": 47.7}, {"dt": "06/01/2001", "WATERBORNE": 50.9}, {"dt": "07/01/2001", "WATERBORNE": 51.2}, {"dt": "08/01/2001", "WATERBORNE": 51.8}, {"dt": "09/01/2001", "WATERBORNE": 47.5}, {"dt": "10/01/2001", "WATERBORNE": 49.9}, {"dt": "11/01/2001", "WATERBORNE": 48.5}, {"dt": "12/01/2001", "WATERBORNE": 46.1}, {"dt": "01/01/2002", "WATERBORNE": 41.3}, {"dt": "02/01/2002", "WATERBORNE": 40.5}, {"dt": "03/01/2002", "WATERBORNE": 45.9}, {"dt": "04/01/2002", "WATERBORNE": 47.2}, {"dt": "05/01/2002", "WATERBORNE": 47.4}, {"dt": "06/01/2002", "WATERBORNE": 48.8}, {"dt": "07/01/2002", "WATERBORNE": 50.9}, {"dt": "08/01/2002", "WATERBORNE": 48.8}, {"dt": "09/01/2002", "WATERBORNE": 44.9}, {"dt": "10/01/2002", "WATERBORNE": 50.3}, {"dt": "11/01/2002", "WATERBORNE": 50.7}, {"dt": "12/01/2002", "WATERBORNE": 46.4}, {"dt": "01/01/2003", "WATERBORNE": 39.7}, {"dt": "02/01/2003", "WATERBORNE": 36.0}, {"dt": "03/01/2003", "WATERBORNE": 45.7}, {"dt": "04/01/2003", "WATERBORNE": 47.5}, {"dt": "05/01/2003", "WATERBORNE": 45.5}, {"dt": "06/01/2003", "WATERBORNE": 46.6}, {"dt": "07/01/2003", "WATERBORNE": 47.9}, {"dt": "08/01/2003", "WATERBORNE": 47.1}, {"dt": "09/01/2003", "WATERBORNE": 43.7}, {"dt": "10/01/2003", "WATERBORNE": 49.6}, {"dt": "11/01/2003", "WATERBORNE": 47.9}, {"dt": "12/01/2003", "WATERBORNE": 50.5}, {"dt": "01/01/2004", "WATERBORNE": 43.6}, {"dt": "02/01/2004", "WATERBORNE": 40.7}, {"dt": "03/01/2004", "WATERBORNE": 47.5}, {"dt": "04/01/2004", "WATERBORNE": 49.2}, {"dt": "05/01/2004", "WATERBORNE": 49.4}, {"dt": "06/01/2004", "WATERBORNE": 48.9}, {"dt": "07/01/2004", "WATERBORNE": 51.1}, {"dt": "08/01/2004", "WATERBORNE": 50.4}, {"dt": "09/01/2004", "WATERBORNE": 43.5}, {"dt": "10/01/2004", "WATERBORNE": 53.2}, {"dt": "11/01/2004", "WATERBORNE": 50.3}, {"dt": "12/01/2004", "WATERBORNE": 48.2}, {"dt": "01/01/2005", "WATERBORNE": 41.0}, {"dt": "02/01/2005", "WATERBORNE": 41.5}, {"dt": "03/01/2005", "WATERBORNE": 51.0}, {"dt": "04/01/2005", "WATERBORNE": 51.0}, {"dt": "05/01/2005", "WATERBORNE": 54.7}, {"dt": "06/01/2005", "WATERBORNE": 49.3}, {"dt": "07/01/2005", "WATERBORNE": 50.5}, {"dt": "08/01/2005", "WATERBORNE": 47.1}, {"dt": "09/01/2005", "WATERBORNE": 36.7}, {"dt": "10/01/2005", "WATERBORNE": 44.8}, {"dt": "11/01/2005", "WATERBORNE": 44.9}, {"dt": "12/01/2005", "WATERBORNE": 43.2}, {"dt": "01/01/2006", "WATERBORNE": 41.1}, {"dt": "02/01/2006", "WATERBORNE": 39.9}, {"dt": "03/01/2006", "WATERBORNE": 50.0}, {"dt": "04/01/2006", "WATERBORNE": 47.1}, {"dt": "05/01/2006", "WATERBORNE": 48.9}, {"dt": "06/01/2006", "WATERBORNE": 48.1}, {"dt": "07/01/2006", "WATERBORNE": 47.7}, {"dt": "08/01/2006", "WATERBORNE": 45.8}, {"dt": "09/01/2006", "WATERBORNE": 46.6}, {"dt": "10/01/2006", "WATERBORNE": 46.0}, {"dt": "11/01/2006", "WATERBORNE": 44.9}, {"dt": "12/01/2006", "WATERBORNE": 44.1}, {"dt": "01/01/2007", "WATERBORNE": 41.7}, {"dt": "02/01/2007", "WATERBORNE": 36.2}, {"dt": "03/01/2007", "WATERBORNE": 47.9}, {"dt": "04/01/2007", "WATERBORNE": 48.1}, {"dt": "05/01/2007", "WATERBORNE": 50.0}, {"dt": "06/01/2007", "WATERBORNE": 48.4}, {"dt": "07/01/2007", "WATERBORNE": 46.1}, {"dt": "08/01/2007", "WATERBORNE": 42.1}, {"dt": "09/01/2007", "WATERBORNE": 40.5}, {"dt": "10/01/2007", "WATERBORNE": 47.1}, {"dt": "11/01/2007", "WATERBORNE": 45.1}, {"dt": "12/01/2007", "WATERBORNE": 43.6}, {"dt": "01/01/2008", "WATERBORNE": 41.4}, {"dt": "02/01/2008", "WATERBORNE": 36.9}, {"dt": "03/01/2008", "WATERBORNE": 38.0}, {"dt": "04/01/2008", "WATERBORNE": 41.4}, {"dt": "05/01/2008", "WATERBORNE": 44.8}, {"dt": "06/01/2008", "WATERBORNE": 39.1}, {"dt": "07/01/2008", "WATERBORNE": 45.1}, {"dt": "08/01/2008", "WATERBORNE": 45.3}, {"dt": "09/01/2008", "WATERBORNE": 36.6}, {"dt": "10/01/2008", "WATERBORNE": 44.2}, {"dt": "11/01/2008", "WATERBORNE": 42.8}, {"dt": "12/01/2008", "WATERBORNE": 36.8}, {"dt": "01/01/2009", "WATERBORNE": 33.5}, {"dt": "02/01/2009", "WATERBORNE": 34.1}, {"dt": "03/01/2009", "WATERBORNE": 37.2}, {"dt": "04/01/2009", "WATERBORNE": 37.1}, {"dt": "05/01/2009", "WATERBORNE": 37.4}, {"dt": "06/01/2009", "WATERBORNE": 41.2}, {"dt": "07/01/2009", "WATERBORNE": 42.2}, {"dt": "08/01/2009", "WATERBORNE": 42.7}, {"dt": "09/01/2009", "WATERBORNE": 33.3}, {"dt": "10/01/2009", "WATERBORNE": 36.5}, {"dt": "11/01/2009", "WATERBORNE": 42.1}, {"dt": "12/01/2009", "WATERBORNE": 37.4}, {"dt": "01/01/2010", "WATERBORNE": 39.8}, {"dt": "02/01/2010", "WATERBORNE": 41.0}, {"dt": "03/01/2010", "WATERBORNE": 46.8}, {"dt": "04/01/2010", "WATERBORNE": 47.4}, {"dt": "05/01/2010", "WATERBORNE": 47.6}, {"dt": "06/01/2010", "WATERBORNE": 48.6}, {"dt": "07/01/2010", "WATERBORNE": 47.4}, {"dt": "08/01/2010", "WATERBORNE": 49.1}, {"dt": "09/01/2010", "WATERBORNE": 46.9}, {"dt": "10/01/2010", "WATERBORNE": 51.0}, {"dt": "11/01/2010", "WATERBORNE": 46.7}, {"dt": "12/01/2010", "WATERBORNE": 44.8}, {"dt": "01/01/2011", "WATERBORNE": 44.9}, {"dt": "02/01/2011", "WATERBORNE": 43.0}, {"dt": "03/01/2011", "WATERBORNE": 44.9}, {"dt": "04/01/2011", "WATERBORNE": 45.4}, {"dt": "05/01/2011", "WATERBORNE": 42.9}, {"dt": "06/01/2011", "WATERBORNE": 47.9}, {"dt": "07/01/2011", "WATERBORNE": 49.9}, {"dt": "08/01/2011", "WATERBORNE": 50.9}, {"dt": "09/01/2011", "WATERBORNE": 47.7}, {"dt": "10/01/2011", "WATERBORNE": 52.1}, {"dt": "11/01/2011", "WATERBORNE": 47.0}, {"dt": "12/01/2011", "WATERBORNE": 45.9}, {"dt": "01/01/2012", "WATERBORNE": 45.7}, {"dt": "02/01/2012", "WATERBORNE": 43.6}, {"dt": "03/01/2012", "WATERBORNE": 47.1}, {"dt": "04/01/2012", "WATERBORNE": 46.9}, {"dt": "05/01/2012", "WATERBORNE": 48.3}, {"dt": "06/01/2012", "WATERBORNE": 46.3}, {"dt": "07/01/2012", "WATERBORNE": 46.6}, {"dt": "08/01/2012", "WATERBORNE": 47.6}, {"dt": "09/01/2012", "WATERBORNE": 45.3}, {"dt": "10/01/2012", "WATERBORNE": 50.6}, {"dt": "11/01/2012", "WATERBORNE": 47.2}, {"dt": "12/01/2012", "WATERBORNE": 47.1}, {"dt": "01/01/2013", "WATERBORNE": 44.2}, {"dt": "02/01/2013", "WATERBORNE": 42.9}, {"dt": "03/01/2013", "WATERBORNE": 48.3}, {"dt": "04/01/2013", "WATERBORNE": 44.6}, {"dt": "05/01/2013", "WATERBORNE": 45.9}, {"dt": "06/01/2013", "WATERBORNE": 48.4}, {"dt": "07/01/2013", "WATERBORNE": 47.4}, {"dt": "08/01/2013", "WATERBORNE": 49.1}, {"dt": "09/01/2013", "WATERBORNE": 45.4}, {"dt": "10/01/2013", "WATERBORNE": 50.3}, {"dt": "11/01/2013", "WATERBORNE": 46.6}, {"dt": "12/01/2013", "WATERBORNE": 44.9}, {"dt": "01/01/2014", "WATERBORNE": 44.5}, {"dt": "02/01/2014", "WATERBORNE": 41.6}, {"dt": "03/01/2014", "WATERBORNE": 50.8}, {"dt": "04/01/2014", "WATERBORNE": 50.4}, {"dt": "05/01/2014", "WATERBORNE": 51.8}, {"dt": "06/01/2014", "WATERBORNE": 49.9}, {"dt": "07/01/2014", "WATERBORNE": 50.3}, {"dt": "08/01/2014", "WATERBORNE": 51.0}, {"dt": "09/01/2014", "WATERBORNE": 52.9}, {"dt": "10/01/2014", "WATERBORNE": 56.1}, {"dt": "11/01/2014", "WATERBORNE": 51.2}, {"dt": "12/01/2014", "WATERBORNE": 51.2}, {"dt": "01/01/2015", "WATERBORNE": 48.4}, {"dt": "02/01/2015", "WATERBORNE": 42.0}, {"dt": "03/01/2015", "WATERBORNE": 41.0}, {"dt": "04/01/2015", "WATERBORNE": 46.3}, {"dt": "05/01/2015", "WATERBORNE": 49.6}, {"dt": "06/01/2015", "WATERBORNE": 47.4}, {"dt": "07/01/2015", "WATERBORNE": 47.8}, {"dt": "08/01/2015", "WATERBORNE": 51.5}, {"dt": "09/01/2015", "WATERBORNE": 49.6}, {"dt": "10/01/2015", "WATERBORNE": 50.5}, {"dt": "11/01/2015", "WATERBORNE": 48.2}, {"dt": "12/01/2015", "WATERBORNE": 44.1}, {"dt": "01/01/2016", "WATERBORNE": 39.8}, {"dt": "02/01/2016", "WATERBORNE": 42.9}, {"dt": "03/01/2016", "WATERBORNE": 44.2}, {"dt": "04/01/2016", "WATERBORNE": 45.1}, {"dt": "05/01/2016", "WATERBORNE": 46.4}, {"dt": "06/01/2016", "WATERBORNE": 44.9}, {"dt": "07/01/2016", "WATERBORNE": 47.0}, {"dt": "08/01/2016", "WATERBORNE": 49.4}, {"dt": "09/01/2016", "WATERBORNE": 47.5}, {"dt": "10/01/2016", "WATERBORNE": 49.9}, {"dt": "11/01/2016", "WATERBORNE": 46.1}, {"dt": "12/01/2016", "WATERBORNE": 44.9}, {"dt": "01/01/2017", "WATERBORNE": 43.9}, {"dt": "02/01/2017", "WATERBORNE": 43.0}, {"dt": "03/01/2017", "WATERBORNE": 47.7}, {"dt": "04/01/2017", "WATERBORNE": 44.1}, {"dt": "05/01/2017", "WATERBORNE": 42.6}, {"dt": "06/01/2017", "WATERBORNE": 44.7}, {"dt": "07/01/2017", "WATERBORNE": 45.7}, {"dt": "08/01/2017", "WATERBORNE": 47.0}, {"dt": "09/01/2017", "WATERBORNE": 44.0}, {"dt": "10/01/2017", "WATERBORNE": 45.7}, {"dt": "11/01/2017", "WATERBORNE": 46.6}, {"dt": "12/01/2017", "WATERBORNE": 43.9}, {"dt": "01/01/2018", "WATERBORNE": 45.0}, {"dt": "02/01/2018", "WATERBORNE": 43.9}, {"dt": "03/01/2018", "WATERBORNE": 49.8}, {"dt": "04/01/2018", "WATERBORNE": 52.5}, {"dt": "05/01/2018", "WATERBORNE": 54.2}, {"dt": "06/01/2018", "WATERBORNE": 53.8}, {"dt": "07/01/2018", "WATERBORNE": 49.8}, {"dt": "08/01/2018", "WATERBORNE": 52.0}, {"dt": "09/01/2018", "WATERBORNE": 50.3}, {"dt": "10/01/2018", "WATERBORNE": 56.2}, {"dt": "11/01/2018", "WATERBORNE": 50.2}, {"dt": "12/01/2018", "WATERBORNE": 50.2}, {"dt": "01/01/2019", "WATERBORNE": 48.2}, {"dt": "02/01/2019", "WATERBORNE": 39.5}, {"dt": "03/01/2019", "WATERBORNE": 46.0}, {"dt": "04/01/2019", "WATERBORNE": 51.0}, {"dt": "05/01/2019", "WATERBORNE": 52.4}, {"dt": "06/01/2019", "WATERBORNE": 50.1}, {"dt": "07/01/2019", "WATERBORNE": 49.6}, {"dt": "08/01/2019", "WATERBORNE": 54.3}, {"dt": "09/01/2019", "WATERBORNE": 49.3}, {"dt": "10/01/2019", "WATERBORNE": 54.2}, {"dt": "11/01/2019", "WATERBORNE": 51.1}, {"dt": "12/01/2019", "WATERBORNE": 50.0}, {"dt": "01/01/2020", "WATERBORNE": 48.1}, {"dt": "02/01/2020", "WATERBORNE": 44.0}, {"dt": "03/01/2020", "WATERBORNE": 48.8}, {"dt": "04/01/2020", "WATERBORNE": 48.9}, {"dt": "05/01/2020", "WATERBORNE": 48.4}, {"dt": "06/01/2020", "WATERBORNE": 41.5}, {"dt": "07/01/2020", "WATERBORNE": 43.3}, {"dt": "08/01/2020", "WATERBORNE": 44.3}, {"dt": "09/01/2020", "WATERBORNE": 42.1}, {"dt": "10/01/2020", "WATERBORNE": 48.4}, {"dt": "11/01/2020", "WATERBORNE": 44.6}, {"dt": "12/01/2020", "WATERBORNE": 44.8}, {"dt": "01/01/2021", "WATERBORNE": 45.5}, {"dt": "02/01/2021", "WATERBORNE": 39.8}, {"dt": "03/01/2021", "WATERBORNE": 47.6}, {"dt": "04/01/2021", "WATERBORNE": 47.4}, {"dt": "05/01/2021", "WATERBORNE": 49.4}, {"dt": "06/01/2021", "WATERBORNE": 50.4}, {"dt": "07/01/2021", "WATERBORNE": 47.2}, {"dt": "08/01/2021", "WATERBORNE": 46.8}, {"dt": "09/01/2021", "WATERBORNE": 42.8}, {"dt": "10/01/2021", "WATERBORNE": 51.8}, {"dt": "11/01/2021", "WATERBORNE": 52.1}, {"dt": "12/01/2021", "WATERBORNE": 48.1}, {"dt": "01/01/2022", "WATERBORNE": 48.1}, {"dt": "02/01/2022", "WATERBORNE": 42.3}, {"dt": "03/01/2022", "WATERBORNE": 49.7}]}}, {"mode": "vega-lite"});
</script></div>

        
    
        
    
        
    
        
    
        
    

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Rail-Freight-Carloads">Rail Freight Carloads<a class="anchor-link" href="#Rail-Freight-Carloads">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">doComboChart</span><span class="p">(</span><span class="n">df_af</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;RAIL_FRT_CARLOADS&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;US Rail Freight Carloads&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Carloads&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>



   
        
            
<div class="output_html rendered_html output_subarea output_execute_result">
<div id="altair-viz-fa77f72b22f64f10aac3bf51d35f22e0"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-fa77f72b22f64f10aac3bf51d35f22e0") {
      outputDiv = document.getElementById("altair-viz-fa77f72b22f64f10aac3bf51d35f22e0");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"mark": {"type": "bar", "color": "blue", "width": 2}, "encoding": {"color": {"condition": {"value": "lightsalmon", "test": "datum['yoy'] < 0"}, "value": "royalblue"}, "tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "RAIL_FRT_CARLOADS", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "impute": {"value": null}, "scale": {"domain": {"selection": "selector003"}}, "type": "temporal"}, "y": {"axis": {"title": "Year-over-Year Growth [%]"}, "field": "yoy", "impute": {"keyvals": [400, 1000], "method": "value"}, "type": "quantitative"}}, "height": 400, "title": "US Rail Freight Carloads", "transform": [{"window": [{"op": "lag", "field": "RAIL_FRT_CARLOADS", "param": 12, "as": "previous"}], "sort": [{"field": "dt"}]}, {"calculate": "((datum['RAIL_FRT_CARLOADS'] - datum.previous) / datum.previous) * 100", "as": "yoy"}], "width": 750}, {"mark": {"type": "line", "color": "purple"}, "encoding": {"tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "RAIL_FRT_CARLOADS", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "type": "temporal"}, "y": {"axis": {"title": "Carloads"}, "field": "RAIL_FRT_CARLOADS", "type": "quantitative"}}, "height": 100, "selection": {"selector003": {"type": "interval", "encodings": ["x"]}}, "width": 750}], "background": "white", "data": {"name": "data-577845e32d9dcaa02bb45555624061c7"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-577845e32d9dcaa02bb45555624061c7": [{"dt": "01/01/2000", "RAIL_FRT_CARLOADS": 1402926}, {"dt": "02/01/2000", "RAIL_FRT_CARLOADS": 1341942}, {"dt": "03/01/2000", "RAIL_FRT_CARLOADS": 1452147}, {"dt": "04/01/2000", "RAIL_FRT_CARLOADS": 1386030}, {"dt": "05/01/2000", "RAIL_FRT_CARLOADS": 1440661}, {"dt": "06/01/2000", "RAIL_FRT_CARLOADS": 1390222}, {"dt": "07/01/2000", "RAIL_FRT_CARLOADS": 1377790}, {"dt": "08/01/2000", "RAIL_FRT_CARLOADS": 1473014}, {"dt": "09/01/2000", "RAIL_FRT_CARLOADS": 1427099}, {"dt": "10/01/2000", "RAIL_FRT_CARLOADS": 1489125}, {"dt": "11/01/2000", "RAIL_FRT_CARLOADS": 1346909}, {"dt": "12/01/2000", "RAIL_FRT_CARLOADS": 1298609}, {"dt": "01/01/2001", "RAIL_FRT_CARLOADS": 1378715}, {"dt": "02/01/2001", "RAIL_FRT_CARLOADS": 1272599}, {"dt": "03/01/2001", "RAIL_FRT_CARLOADS": 1457199}, {"dt": "04/01/2001", "RAIL_FRT_CARLOADS": 1390615}, {"dt": "05/01/2001", "RAIL_FRT_CARLOADS": 1436953}, {"dt": "06/01/2001", "RAIL_FRT_CARLOADS": 1382844}, {"dt": "07/01/2001", "RAIL_FRT_CARLOADS": 1331669}, {"dt": "08/01/2001", "RAIL_FRT_CARLOADS": 1444314}, {"dt": "09/01/2001", "RAIL_FRT_CARLOADS": 1387189}, {"dt": "10/01/2001", "RAIL_FRT_CARLOADS": 1489178}, {"dt": "11/01/2001", "RAIL_FRT_CARLOADS": 1376611}, {"dt": "12/01/2001", "RAIL_FRT_CARLOADS": 1323085}, {"dt": "01/01/2002", "RAIL_FRT_CARLOADS": 1362045}, {"dt": "02/01/2002", "RAIL_FRT_CARLOADS": 1252632}, {"dt": "03/01/2002", "RAIL_FRT_CARLOADS": 1373143}, {"dt": "04/01/2002", "RAIL_FRT_CARLOADS": 1359576}, {"dt": "05/01/2002", "RAIL_FRT_CARLOADS": 1408401}, {"dt": "06/01/2002", "RAIL_FRT_CARLOADS": 1392903}, {"dt": "07/01/2002", "RAIL_FRT_CARLOADS": 1363443}, {"dt": "08/01/2002", "RAIL_FRT_CARLOADS": 1467852}, {"dt": "09/01/2002", "RAIL_FRT_CARLOADS": 1395757}, {"dt": "10/01/2002", "RAIL_FRT_CARLOADS": 1462330}, {"dt": "11/01/2002", "RAIL_FRT_CARLOADS": 1359625}, {"dt": "12/01/2002", "RAIL_FRT_CARLOADS": 1326501}, {"dt": "01/01/2003", "RAIL_FRT_CARLOADS": 1348631}, {"dt": "02/01/2003", "RAIL_FRT_CARLOADS": 1232970}, {"dt": "03/01/2003", "RAIL_FRT_CARLOADS": 1400506}, {"dt": "04/01/2003", "RAIL_FRT_CARLOADS": 1362930}, {"dt": "05/01/2003", "RAIL_FRT_CARLOADS": 1402692}, {"dt": "06/01/2003", "RAIL_FRT_CARLOADS": 1370794}, {"dt": "07/01/2003", "RAIL_FRT_CARLOADS": 1357086}, {"dt": "08/01/2003", "RAIL_FRT_CARLOADS": 1450003}, {"dt": "09/01/2003", "RAIL_FRT_CARLOADS": 1410429}, {"dt": "10/01/2003", "RAIL_FRT_CARLOADS": 1491289}, {"dt": "11/01/2003", "RAIL_FRT_CARLOADS": 1380233}, {"dt": "12/01/2003", "RAIL_FRT_CARLOADS": 1349155}, {"dt": "01/01/2004", "RAIL_FRT_CARLOADS": 1391261}, {"dt": "02/01/2004", "RAIL_FRT_CARLOADS": 1318895}, {"dt": "03/01/2004", "RAIL_FRT_CARLOADS": 1460107}, {"dt": "04/01/2004", "RAIL_FRT_CARLOADS": 1422511}, {"dt": "05/01/2004", "RAIL_FRT_CARLOADS": 1475594}, {"dt": "06/01/2004", "RAIL_FRT_CARLOADS": 1411047}, {"dt": "07/01/2004", "RAIL_FRT_CARLOADS": 1405130}, {"dt": "08/01/2004", "RAIL_FRT_CARLOADS": 1478446}, {"dt": "09/01/2004", "RAIL_FRT_CARLOADS": 1408654}, {"dt": "10/01/2004", "RAIL_FRT_CARLOADS": 1509119}, {"dt": "11/01/2004", "RAIL_FRT_CARLOADS": 1408453}, {"dt": "12/01/2004", "RAIL_FRT_CARLOADS": 1367589}, {"dt": "01/01/2005", "RAIL_FRT_CARLOADS": 1396793}, {"dt": "02/01/2005", "RAIL_FRT_CARLOADS": 1342757}, {"dt": "03/01/2005", "RAIL_FRT_CARLOADS": 1493052}, {"dt": "04/01/2005", "RAIL_FRT_CARLOADS": 1460039}, {"dt": "05/01/2005", "RAIL_FRT_CARLOADS": 1466477}, {"dt": "06/01/2005", "RAIL_FRT_CARLOADS": 1412640}, {"dt": "07/01/2005", "RAIL_FRT_CARLOADS": 1404879}, {"dt": "08/01/2005", "RAIL_FRT_CARLOADS": 1485201}, {"dt": "09/01/2005", "RAIL_FRT_CARLOADS": 1438698}, {"dt": "10/01/2005", "RAIL_FRT_CARLOADS": 1470099}, {"dt": "11/01/2005", "RAIL_FRT_CARLOADS": 1392562}, {"dt": "12/01/2005", "RAIL_FRT_CARLOADS": 1375654}, {"dt": "01/01/2006", "RAIL_FRT_CARLOADS": 1464556}, {"dt": "02/01/2006", "RAIL_FRT_CARLOADS": 1312500}, {"dt": "03/01/2006", "RAIL_FRT_CARLOADS": 1493547}, {"dt": "04/01/2006", "RAIL_FRT_CARLOADS": 1446164}, {"dt": "05/01/2006", "RAIL_FRT_CARLOADS": 1521036}, {"dt": "06/01/2006", "RAIL_FRT_CARLOADS": 1464781}, {"dt": "07/01/2006", "RAIL_FRT_CARLOADS": 1428970}, {"dt": "08/01/2006", "RAIL_FRT_CARLOADS": 1501964}, {"dt": "09/01/2006", "RAIL_FRT_CARLOADS": 1445002}, {"dt": "10/01/2006", "RAIL_FRT_CARLOADS": 1493349}, {"dt": "11/01/2006", "RAIL_FRT_CARLOADS": 1378183}, {"dt": "12/01/2006", "RAIL_FRT_CARLOADS": 1398361}, {"dt": "01/01/2007", "RAIL_FRT_CARLOADS": 1370575}, {"dt": "02/01/2007", "RAIL_FRT_CARLOADS": 1255311}, {"dt": "03/01/2007", "RAIL_FRT_CARLOADS": 1442822}, {"dt": "04/01/2007", "RAIL_FRT_CARLOADS": 1413587}, {"dt": "05/01/2007", "RAIL_FRT_CARLOADS": 1446592}, {"dt": "06/01/2007", "RAIL_FRT_CARLOADS": 1429982}, {"dt": "07/01/2007", "RAIL_FRT_CARLOADS": 1391260}, {"dt": "08/01/2007", "RAIL_FRT_CARLOADS": 1485342}, {"dt": "09/01/2007", "RAIL_FRT_CARLOADS": 1431666}, {"dt": "10/01/2007", "RAIL_FRT_CARLOADS": 1487803}, {"dt": "11/01/2007", "RAIL_FRT_CARLOADS": 1412571}, {"dt": "12/01/2007", "RAIL_FRT_CARLOADS": 1357746}, {"dt": "01/01/2008", "RAIL_FRT_CARLOADS": 1387897}, {"dt": "02/01/2008", "RAIL_FRT_CARLOADS": 1335398}, {"dt": "03/01/2008", "RAIL_FRT_CARLOADS": 1445693}, {"dt": "04/01/2008", "RAIL_FRT_CARLOADS": 1423939}, {"dt": "05/01/2008", "RAIL_FRT_CARLOADS": 1451560}, {"dt": "06/01/2008", "RAIL_FRT_CARLOADS": 1372686}, {"dt": "07/01/2008", "RAIL_FRT_CARLOADS": 1422554}, {"dt": "08/01/2008", "RAIL_FRT_CARLOADS": 1474209}, {"dt": "09/01/2008", "RAIL_FRT_CARLOADS": 1373620}, {"dt": "10/01/2008", "RAIL_FRT_CARLOADS": 1445066}, {"dt": "11/01/2008", "RAIL_FRT_CARLOADS": 1274531}, {"dt": "12/01/2008", "RAIL_FRT_CARLOADS": 1153403}, {"dt": "01/01/2009", "RAIL_FRT_CARLOADS": 1162973}, {"dt": "02/01/2009", "RAIL_FRT_CARLOADS": 1105996}, {"dt": "03/01/2009", "RAIL_FRT_CARLOADS": 1193910}, {"dt": "04/01/2009", "RAIL_FRT_CARLOADS": 1095354}, {"dt": "05/01/2009", "RAIL_FRT_CARLOADS": 1105635}, {"dt": "06/01/2009", "RAIL_FRT_CARLOADS": 1105098}, {"dt": "07/01/2009", "RAIL_FRT_CARLOADS": 1176457}, {"dt": "08/01/2009", "RAIL_FRT_CARLOADS": 1236764}, {"dt": "09/01/2009", "RAIL_FRT_CARLOADS": 1180775}, {"dt": "10/01/2009", "RAIL_FRT_CARLOADS": 1220057}, {"dt": "11/01/2009", "RAIL_FRT_CARLOADS": 1169623}, {"dt": "12/01/2009", "RAIL_FRT_CARLOADS": 1095082}, {"dt": "01/01/2010", "RAIL_FRT_CARLOADS": 1160442}, {"dt": "02/01/2010", "RAIL_FRT_CARLOADS": 1091829}, {"dt": "03/01/2010", "RAIL_FRT_CARLOADS": 1279724}, {"dt": "04/01/2010", "RAIL_FRT_CARLOADS": 1260954}, {"dt": "05/01/2010", "RAIL_FRT_CARLOADS": 1272845}, {"dt": "06/01/2010", "RAIL_FRT_CARLOADS": 1215864}, {"dt": "07/01/2010", "RAIL_FRT_CARLOADS": 1244915}, {"dt": "08/01/2010", "RAIL_FRT_CARLOADS": 1310410}, {"dt": "09/01/2010", "RAIL_FRT_CARLOADS": 1271475}, {"dt": "10/01/2010", "RAIL_FRT_CARLOADS": 1322853}, {"dt": "11/01/2010", "RAIL_FRT_CARLOADS": 1227151}, {"dt": "12/01/2010", "RAIL_FRT_CARLOADS": 1195311}, {"dt": "01/01/2011", "RAIL_FRT_CARLOADS": 1254585}, {"dt": "02/01/2011", "RAIL_FRT_CARLOADS": 1146300}, {"dt": "03/01/2011", "RAIL_FRT_CARLOADS": 1320070}, {"dt": "04/01/2011", "RAIL_FRT_CARLOADS": 1264678}, {"dt": "05/01/2011", "RAIL_FRT_CARLOADS": 1276671}, {"dt": "06/01/2011", "RAIL_FRT_CARLOADS": 1229632}, {"dt": "07/01/2011", "RAIL_FRT_CARLOADS": 1234426}, {"dt": "08/01/2011", "RAIL_FRT_CARLOADS": 1312456}, {"dt": "09/01/2011", "RAIL_FRT_CARLOADS": 1280972}, {"dt": "10/01/2011", "RAIL_FRT_CARLOADS": 1345498}, {"dt": "11/01/2011", "RAIL_FRT_CARLOADS": 1257921}, {"dt": "12/01/2011", "RAIL_FRT_CARLOADS": 1268018}, {"dt": "01/01/2012", "RAIL_FRT_CARLOADS": 1267256}, {"dt": "02/01/2012", "RAIL_FRT_CARLOADS": 1167610}, {"dt": "03/01/2012", "RAIL_FRT_CARLOADS": 1244739}, {"dt": "04/01/2012", "RAIL_FRT_CARLOADS": 1192250}, {"dt": "05/01/2012", "RAIL_FRT_CARLOADS": 1237395}, {"dt": "06/01/2012", "RAIL_FRT_CARLOADS": 1216288}, {"dt": "07/01/2012", "RAIL_FRT_CARLOADS": 1227468}, {"dt": "08/01/2012", "RAIL_FRT_CARLOADS": 1296307}, {"dt": "09/01/2012", "RAIL_FRT_CARLOADS": 1234535}, {"dt": "10/01/2012", "RAIL_FRT_CARLOADS": 1262848}, {"dt": "11/01/2012", "RAIL_FRT_CARLOADS": 1205969}, {"dt": "12/01/2012", "RAIL_FRT_CARLOADS": 1201630}, {"dt": "01/01/2013", "RAIL_FRT_CARLOADS": 1192314}, {"dt": "02/01/2013", "RAIL_FRT_CARLOADS": 1110548}, {"dt": "03/01/2013", "RAIL_FRT_CARLOADS": 1239149}, {"dt": "04/01/2013", "RAIL_FRT_CARLOADS": 1190406}, {"dt": "05/01/2013", "RAIL_FRT_CARLOADS": 1241624}, {"dt": "06/01/2013", "RAIL_FRT_CARLOADS": 1210146}, {"dt": "07/01/2013", "RAIL_FRT_CARLOADS": 1226158}, {"dt": "08/01/2013", "RAIL_FRT_CARLOADS": 1301948}, {"dt": "09/01/2013", "RAIL_FRT_CARLOADS": 1239309}, {"dt": "10/01/2013", "RAIL_FRT_CARLOADS": 1280690}, {"dt": "11/01/2013", "RAIL_FRT_CARLOADS": 1229055}, {"dt": "12/01/2013", "RAIL_FRT_CARLOADS": 1184768}, {"dt": "01/01/2014", "RAIL_FRT_CARLOADS": 1201520}, {"dt": "02/01/2014", "RAIL_FRT_CARLOADS": 1098607}, {"dt": "03/01/2014", "RAIL_FRT_CARLOADS": 1282488}, {"dt": "04/01/2014", "RAIL_FRT_CARLOADS": 1269684}, {"dt": "05/01/2014", "RAIL_FRT_CARLOADS": 1313273}, {"dt": "06/01/2014", "RAIL_FRT_CARLOADS": 1255383}, {"dt": "07/01/2014", "RAIL_FRT_CARLOADS": 1307467}, {"dt": "08/01/2014", "RAIL_FRT_CARLOADS": 1339869}, {"dt": "09/01/2014", "RAIL_FRT_CARLOADS": 1278100}, {"dt": "10/01/2014", "RAIL_FRT_CARLOADS": 1335832}, {"dt": "11/01/2014", "RAIL_FRT_CARLOADS": 1250050}, {"dt": "12/01/2014", "RAIL_FRT_CARLOADS": 1288684}, {"dt": "01/01/2015", "RAIL_FRT_CARLOADS": 1272443}, {"dt": "02/01/2015", "RAIL_FRT_CARLOADS": 1089174}, {"dt": "03/01/2015", "RAIL_FRT_CARLOADS": 1236088}, {"dt": "04/01/2015", "RAIL_FRT_CARLOADS": 1202758}, {"dt": "05/01/2015", "RAIL_FRT_CARLOADS": 1192699}, {"dt": "06/01/2015", "RAIL_FRT_CARLOADS": 1156485}, {"dt": "07/01/2015", "RAIL_FRT_CARLOADS": 1227312}, {"dt": "08/01/2015", "RAIL_FRT_CARLOADS": 1279486}, {"dt": "09/01/2015", "RAIL_FRT_CARLOADS": 1211041}, {"dt": "10/01/2015", "RAIL_FRT_CARLOADS": 1249083}, {"dt": "11/01/2015", "RAIL_FRT_CARLOADS": 1119467}, {"dt": "12/01/2015", "RAIL_FRT_CARLOADS": 1082287}, {"dt": "01/01/2016", "RAIL_FRT_CARLOADS": 1062112}, {"dt": "02/01/2016", "RAIL_FRT_CARLOADS": 1014985}, {"dt": "03/01/2016", "RAIL_FRT_CARLOADS": 1057654}, {"dt": "04/01/2016", "RAIL_FRT_CARLOADS": 1012381}, {"dt": "05/01/2016", "RAIL_FRT_CARLOADS": 1058600}, {"dt": "06/01/2016", "RAIL_FRT_CARLOADS": 1073479}, {"dt": "07/01/2016", "RAIL_FRT_CARLOADS": 1139143}, {"dt": "08/01/2016", "RAIL_FRT_CARLOADS": 1192602}, {"dt": "09/01/2016", "RAIL_FRT_CARLOADS": 1146142}, {"dt": "10/01/2016", "RAIL_FRT_CARLOADS": 1184052}, {"dt": "11/01/2016", "RAIL_FRT_CARLOADS": 1123870}, {"dt": "12/01/2016", "RAIL_FRT_CARLOADS": 1091370}, {"dt": "01/01/2017", "RAIL_FRT_CARLOADS": 1106215}, {"dt": "02/01/2017", "RAIL_FRT_CARLOADS": 1035202}, {"dt": "03/01/2017", "RAIL_FRT_CARLOADS": 1126912}, {"dt": "04/01/2017", "RAIL_FRT_CARLOADS": 1089556}, {"dt": "05/01/2017", "RAIL_FRT_CARLOADS": 1134834}, {"dt": "06/01/2017", "RAIL_FRT_CARLOADS": 1129103}, {"dt": "07/01/2017", "RAIL_FRT_CARLOADS": 1129179}, {"dt": "08/01/2017", "RAIL_FRT_CARLOADS": 1184965}, {"dt": "09/01/2017", "RAIL_FRT_CARLOADS": 1113057}, {"dt": "10/01/2017", "RAIL_FRT_CARLOADS": 1173743}, {"dt": "11/01/2017", "RAIL_FRT_CARLOADS": 1106644}, {"dt": "12/01/2017", "RAIL_FRT_CARLOADS": 1102229}, {"dt": "01/01/2018", "RAIL_FRT_CARLOADS": 1074022}, {"dt": "02/01/2018", "RAIL_FRT_CARLOADS": 1028163}, {"dt": "03/01/2018", "RAIL_FRT_CARLOADS": 1164406}, {"dt": "04/01/2018", "RAIL_FRT_CARLOADS": 1126657}, {"dt": "05/01/2018", "RAIL_FRT_CARLOADS": 1171733}, {"dt": "06/01/2018", "RAIL_FRT_CARLOADS": 1152587}, {"dt": "07/01/2018", "RAIL_FRT_CARLOADS": 1168482}, {"dt": "08/01/2018", "RAIL_FRT_CARLOADS": 1226049}, {"dt": "09/01/2018", "RAIL_FRT_CARLOADS": 1145301}, {"dt": "10/01/2018", "RAIL_FRT_CARLOADS": 1183163}, {"dt": "11/01/2018", "RAIL_FRT_CARLOADS": 1109139}, {"dt": "12/01/2018", "RAIL_FRT_CARLOADS": 1124343}, {"dt": "01/01/2019", "RAIL_FRT_CARLOADS": 1106095}, {"dt": "02/01/2019", "RAIL_FRT_CARLOADS": 997818}, {"dt": "03/01/2019", "RAIL_FRT_CARLOADS": 1064444}, {"dt": "04/01/2019", "RAIL_FRT_CARLOADS": 1120790}, {"dt": "05/01/2019", "RAIL_FRT_CARLOADS": 1142717}, {"dt": "06/01/2019", "RAIL_FRT_CARLOADS": 1088710}, {"dt": "07/01/2019", "RAIL_FRT_CARLOADS": 1118656}, {"dt": "08/01/2019", "RAIL_FRT_CARLOADS": 1169165}, {"dt": "09/01/2019", "RAIL_FRT_CARLOADS": 1063191}, {"dt": "10/01/2019", "RAIL_FRT_CARLOADS": 1083582}, {"dt": "11/01/2019", "RAIL_FRT_CARLOADS": 1025480}, {"dt": "12/01/2019", "RAIL_FRT_CARLOADS": 1020830}, {"dt": "01/01/2020", "RAIL_FRT_CARLOADS": 1038813}, {"dt": "02/01/2020", "RAIL_FRT_CARLOADS": 962057}, {"dt": "03/01/2020", "RAIL_FRT_CARLOADS": 989919}, {"dt": "04/01/2020", "RAIL_FRT_CARLOADS": 836433}, {"dt": "05/01/2020", "RAIL_FRT_CARLOADS": 821331}, {"dt": "06/01/2020", "RAIL_FRT_CARLOADS": 849366}, {"dt": "07/01/2020", "RAIL_FRT_CARLOADS": 927800}, {"dt": "08/01/2020", "RAIL_FRT_CARLOADS": 992610}, {"dt": "09/01/2020", "RAIL_FRT_CARLOADS": 956719}, {"dt": "10/01/2020", "RAIL_FRT_CARLOADS": 1012032}, {"dt": "11/01/2020", "RAIL_FRT_CARLOADS": 969903}, {"dt": "12/01/2020", "RAIL_FRT_CARLOADS": 973999}, {"dt": "01/01/2021", "RAIL_FRT_CARLOADS": 1020270}, {"dt": "02/01/2021", "RAIL_FRT_CARLOADS": 825664}, {"dt": "03/01/2021", "RAIL_FRT_CARLOADS": 1024084}, {"dt": "04/01/2021", "RAIL_FRT_CARLOADS": 1015992}, {"dt": "05/01/2021", "RAIL_FRT_CARLOADS": 1063972}, {"dt": "06/01/2021", "RAIL_FRT_CARLOADS": 1008727}, {"dt": "07/01/2021", "RAIL_FRT_CARLOADS": 1006175}, {"dt": "08/01/2021", "RAIL_FRT_CARLOADS": 1032563}, {"dt": "09/01/2021", "RAIL_FRT_CARLOADS": 1000764}, {"dt": "10/01/2021", "RAIL_FRT_CARLOADS": 1049785}, {"dt": "11/01/2021", "RAIL_FRT_CARLOADS": 993437}, {"dt": "12/01/2021", "RAIL_FRT_CARLOADS": 997125}, {"dt": "01/01/2022", "RAIL_FRT_CARLOADS": 994038}, {"dt": "02/01/2022", "RAIL_FRT_CARLOADS": 921210}, {"dt": "03/01/2022", "RAIL_FRT_CARLOADS": 1035022}]}}, {"mode": "vega-lite"});
</script></div>

        
    
        
    
        
    
        
    
        
    

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Rail-Freight-Intermodal">Rail Freight Intermodal<a class="anchor-link" href="#Rail-Freight-Intermodal">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">doComboChart</span><span class="p">(</span><span class="n">df_af</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;RAIL_FRT_INTERMODAL&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;US Rail Freight Intermodal&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Carloads&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[7]:</div>



   
        
            
<div class="output_html rendered_html output_subarea output_execute_result">
<div id="altair-viz-c42088acc5cd4f9ba7c5d03cac6f661f"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c42088acc5cd4f9ba7c5d03cac6f661f") {
      outputDiv = document.getElementById("altair-viz-c42088acc5cd4f9ba7c5d03cac6f661f");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"mark": {"type": "bar", "color": "blue", "width": 2}, "encoding": {"color": {"condition": {"value": "lightsalmon", "test": "datum['yoy'] < 0"}, "value": "royalblue"}, "tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "RAIL_FRT_INTERMODAL", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "impute": {"value": null}, "scale": {"domain": {"selection": "selector004"}}, "type": "temporal"}, "y": {"axis": {"title": "Year-over-Year Growth [%]"}, "field": "yoy", "impute": {"keyvals": [400, 1000], "method": "value"}, "type": "quantitative"}}, "height": 400, "title": "US Rail Freight Intermodal", "transform": [{"window": [{"op": "lag", "field": "RAIL_FRT_INTERMODAL", "param": 12, "as": "previous"}], "sort": [{"field": "dt"}]}, {"calculate": "((datum['RAIL_FRT_INTERMODAL'] - datum.previous) / datum.previous) * 100", "as": "yoy"}], "width": 750}, {"mark": {"type": "line", "color": "purple"}, "encoding": {"tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "RAIL_FRT_INTERMODAL", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "type": "temporal"}, "y": {"axis": {"title": "Carloads"}, "field": "RAIL_FRT_INTERMODAL", "type": "quantitative"}}, "height": 100, "selection": {"selector004": {"type": "interval", "encodings": ["x"]}}, "width": 750}], "background": "white", "data": {"name": "data-e087038fcf075d3469d7c1d0f1a775a1"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-e087038fcf075d3469d7c1d0f1a775a1": [{"dt": "01/01/2000", "RAIL_FRT_INTERMODAL": 723747}, {"dt": "02/01/2000", "RAIL_FRT_INTERMODAL": 710611}, {"dt": "03/01/2000", "RAIL_FRT_INTERMODAL": 771025}, {"dt": "04/01/2000", "RAIL_FRT_INTERMODAL": 747905}, {"dt": "05/01/2000", "RAIL_FRT_INTERMODAL": 772852}, {"dt": "06/01/2000", "RAIL_FRT_INTERMODAL": 763056}, {"dt": "07/01/2000", "RAIL_FRT_INTERMODAL": 760109}, {"dt": "08/01/2000", "RAIL_FRT_INTERMODAL": 814860}, {"dt": "09/01/2000", "RAIL_FRT_INTERMODAL": 789037}, {"dt": "10/01/2000", "RAIL_FRT_INTERMODAL": 859903}, {"dt": "11/01/2000", "RAIL_FRT_INTERMODAL": 755194}, {"dt": "12/01/2000", "RAIL_FRT_INTERMODAL": 710715}, {"dt": "01/01/2001", "RAIL_FRT_INTERMODAL": 718208}, {"dt": "02/01/2001", "RAIL_FRT_INTERMODAL": 666813}, {"dt": "03/01/2001", "RAIL_FRT_INTERMODAL": 761942}, {"dt": "04/01/2001", "RAIL_FRT_INTERMODAL": 717396}, {"dt": "05/01/2001", "RAIL_FRT_INTERMODAL": 734970}, {"dt": "06/01/2001", "RAIL_FRT_INTERMODAL": 743527}, {"dt": "07/01/2001", "RAIL_FRT_INTERMODAL": 733967}, {"dt": "08/01/2001", "RAIL_FRT_INTERMODAL": 802542}, {"dt": "09/01/2001", "RAIL_FRT_INTERMODAL": 775082}, {"dt": "10/01/2001", "RAIL_FRT_INTERMODAL": 827614}, {"dt": "11/01/2001", "RAIL_FRT_INTERMODAL": 743670}, {"dt": "12/01/2001", "RAIL_FRT_INTERMODAL": 688215}, {"dt": "01/01/2002", "RAIL_FRT_INTERMODAL": 701350}, {"dt": "02/01/2002", "RAIL_FRT_INTERMODAL": 688595}, {"dt": "03/01/2002", "RAIL_FRT_INTERMODAL": 758158}, {"dt": "04/01/2002", "RAIL_FRT_INTERMODAL": 774537}, {"dt": "05/01/2002", "RAIL_FRT_INTERMODAL": 800215}, {"dt": "06/01/2002", "RAIL_FRT_INTERMODAL": 805089}, {"dt": "07/01/2002", "RAIL_FRT_INTERMODAL": 800913}, {"dt": "08/01/2002", "RAIL_FRT_INTERMODAL": 867104}, {"dt": "09/01/2002", "RAIL_FRT_INTERMODAL": 810856}, {"dt": "10/01/2002", "RAIL_FRT_INTERMODAL": 791259}, {"dt": "11/01/2002", "RAIL_FRT_INTERMODAL": 791000}, {"dt": "12/01/2002", "RAIL_FRT_INTERMODAL": 744615}, {"dt": "01/01/2003", "RAIL_FRT_INTERMODAL": 787446}, {"dt": "02/01/2003", "RAIL_FRT_INTERMODAL": 730315}, {"dt": "03/01/2003", "RAIL_FRT_INTERMODAL": 826783}, {"dt": "04/01/2003", "RAIL_FRT_INTERMODAL": 810805}, {"dt": "05/01/2003", "RAIL_FRT_INTERMODAL": 836029}, {"dt": "06/01/2003", "RAIL_FRT_INTERMODAL": 829971}, {"dt": "07/01/2003", "RAIL_FRT_INTERMODAL": 839459}, {"dt": "08/01/2003", "RAIL_FRT_INTERMODAL": 871757}, {"dt": "09/01/2003", "RAIL_FRT_INTERMODAL": 857231}, {"dt": "10/01/2003", "RAIL_FRT_INTERMODAL": 928584}, {"dt": "11/01/2003", "RAIL_FRT_INTERMODAL": 852170}, {"dt": "12/01/2003", "RAIL_FRT_INTERMODAL": 797451}, {"dt": "01/01/2004", "RAIL_FRT_INTERMODAL": 841769}, {"dt": "02/01/2004", "RAIL_FRT_INTERMODAL": 806222}, {"dt": "03/01/2004", "RAIL_FRT_INTERMODAL": 906899}, {"dt": "04/01/2004", "RAIL_FRT_INTERMODAL": 892142}, {"dt": "05/01/2004", "RAIL_FRT_INTERMODAL": 938204}, {"dt": "06/01/2004", "RAIL_FRT_INTERMODAL": 916328}, {"dt": "07/01/2004", "RAIL_FRT_INTERMODAL": 930866}, {"dt": "08/01/2004", "RAIL_FRT_INTERMODAL": 970145}, {"dt": "09/01/2004", "RAIL_FRT_INTERMODAL": 937213}, {"dt": "10/01/2004", "RAIL_FRT_INTERMODAL": 1027749}, {"dt": "11/01/2004", "RAIL_FRT_INTERMODAL": 956383}, {"dt": "12/01/2004", "RAIL_FRT_INTERMODAL": 906275}, {"dt": "01/01/2005", "RAIL_FRT_INTERMODAL": 925534}, {"dt": "02/01/2005", "RAIL_FRT_INTERMODAL": 883984}, {"dt": "03/01/2005", "RAIL_FRT_INTERMODAL": 935163}, {"dt": "04/01/2005", "RAIL_FRT_INTERMODAL": 945359}, {"dt": "05/01/2005", "RAIL_FRT_INTERMODAL": 976854}, {"dt": "06/01/2005", "RAIL_FRT_INTERMODAL": 956014}, {"dt": "07/01/2005", "RAIL_FRT_INTERMODAL": 979130}, {"dt": "08/01/2005", "RAIL_FRT_INTERMODAL": 1040831}, {"dt": "09/01/2005", "RAIL_FRT_INTERMODAL": 1002951}, {"dt": "10/01/2005", "RAIL_FRT_INTERMODAL": 1093139}, {"dt": "11/01/2005", "RAIL_FRT_INTERMODAL": 1000302}, {"dt": "12/01/2005", "RAIL_FRT_INTERMODAL": 977753}, {"dt": "01/01/2006", "RAIL_FRT_INTERMODAL": 991980}, {"dt": "02/01/2006", "RAIL_FRT_INTERMODAL": 896379}, {"dt": "03/01/2006", "RAIL_FRT_INTERMODAL": 1012540}, {"dt": "04/01/2006", "RAIL_FRT_INTERMODAL": 1015609}, {"dt": "05/01/2006", "RAIL_FRT_INTERMODAL": 1045039}, {"dt": "06/01/2006", "RAIL_FRT_INTERMODAL": 1033661}, {"dt": "07/01/2006", "RAIL_FRT_INTERMODAL": 1041756}, {"dt": "08/01/2006", "RAIL_FRT_INTERMODAL": 1106273}, {"dt": "09/01/2006", "RAIL_FRT_INTERMODAL": 1060237}, {"dt": "10/01/2006", "RAIL_FRT_INTERMODAL": 1113993}, {"dt": "11/01/2006", "RAIL_FRT_INTERMODAL": 1006847}, {"dt": "12/01/2006", "RAIL_FRT_INTERMODAL": 984846}, {"dt": "01/01/2007", "RAIL_FRT_INTERMODAL": 981972}, {"dt": "02/01/2007", "RAIL_FRT_INTERMODAL": 920164}, {"dt": "03/01/2007", "RAIL_FRT_INTERMODAL": 1009963}, {"dt": "04/01/2007", "RAIL_FRT_INTERMODAL": 974909}, {"dt": "05/01/2007", "RAIL_FRT_INTERMODAL": 1018160}, {"dt": "06/01/2007", "RAIL_FRT_INTERMODAL": 1020267}, {"dt": "07/01/2007", "RAIL_FRT_INTERMODAL": 1015526}, {"dt": "08/01/2007", "RAIL_FRT_INTERMODAL": 1058591}, {"dt": "09/01/2007", "RAIL_FRT_INTERMODAL": 1032837}, {"dt": "10/01/2007", "RAIL_FRT_INTERMODAL": 1071991}, {"dt": "11/01/2007", "RAIL_FRT_INTERMODAL": 993055}, {"dt": "12/01/2007", "RAIL_FRT_INTERMODAL": 949057}, {"dt": "01/01/2008", "RAIL_FRT_INTERMODAL": 957435}, {"dt": "02/01/2008", "RAIL_FRT_INTERMODAL": 926466}, {"dt": "03/01/2008", "RAIL_FRT_INTERMODAL": 950282}, {"dt": "04/01/2008", "RAIL_FRT_INTERMODAL": 959169}, {"dt": "05/01/2008", "RAIL_FRT_INTERMODAL": 997834}, {"dt": "06/01/2008", "RAIL_FRT_INTERMODAL": 978498}, {"dt": "07/01/2008", "RAIL_FRT_INTERMODAL": 1004378}, {"dt": "08/01/2008", "RAIL_FRT_INTERMODAL": 1036147}, {"dt": "09/01/2008", "RAIL_FRT_INTERMODAL": 994549}, {"dt": "10/01/2008", "RAIL_FRT_INTERMODAL": 1037799}, {"dt": "11/01/2008", "RAIL_FRT_INTERMODAL": 915200}, {"dt": "12/01/2008", "RAIL_FRT_INTERMODAL": 796421}, {"dt": "01/01/2009", "RAIL_FRT_INTERMODAL": 846511}, {"dt": "02/01/2009", "RAIL_FRT_INTERMODAL": 726343}, {"dt": "03/01/2009", "RAIL_FRT_INTERMODAL": 808252}, {"dt": "04/01/2009", "RAIL_FRT_INTERMODAL": 785964}, {"dt": "05/01/2009", "RAIL_FRT_INTERMODAL": 810365}, {"dt": "06/01/2009", "RAIL_FRT_INTERMODAL": 800581}, {"dt": "07/01/2009", "RAIL_FRT_INTERMODAL": 822512}, {"dt": "08/01/2009", "RAIL_FRT_INTERMODAL": 869310}, {"dt": "09/01/2009", "RAIL_FRT_INTERMODAL": 847217}, {"dt": "10/01/2009", "RAIL_FRT_INTERMODAL": 914752}, {"dt": "11/01/2009", "RAIL_FRT_INTERMODAL": 853396}, {"dt": "12/01/2009", "RAIL_FRT_INTERMODAL": 810958}, {"dt": "01/01/2010", "RAIL_FRT_INTERMODAL": 874628}, {"dt": "02/01/2010", "RAIL_FRT_INTERMODAL": 801194}, {"dt": "03/01/2010", "RAIL_FRT_INTERMODAL": 909992}, {"dt": "04/01/2010", "RAIL_FRT_INTERMODAL": 892456}, {"dt": "05/01/2010", "RAIL_FRT_INTERMODAL": 952718}, {"dt": "06/01/2010", "RAIL_FRT_INTERMODAL": 947437}, {"dt": "07/01/2010", "RAIL_FRT_INTERMODAL": 983066}, {"dt": "08/01/2010", "RAIL_FRT_INTERMODAL": 1040147}, {"dt": "09/01/2010", "RAIL_FRT_INTERMODAL": 995071}, {"dt": "10/01/2010", "RAIL_FRT_INTERMODAL": 1043430}, {"dt": "11/01/2010", "RAIL_FRT_INTERMODAL": 951816}, {"dt": "12/01/2010", "RAIL_FRT_INTERMODAL": 909186}, {"dt": "01/01/2011", "RAIL_FRT_INTERMODAL": 943869}, {"dt": "02/01/2011", "RAIL_FRT_INTERMODAL": 886140}, {"dt": "03/01/2011", "RAIL_FRT_INTERMODAL": 983115}, {"dt": "04/01/2011", "RAIL_FRT_INTERMODAL": 981463}, {"dt": "05/01/2011", "RAIL_FRT_INTERMODAL": 1021055}, {"dt": "06/01/2011", "RAIL_FRT_INTERMODAL": 996622}, {"dt": "07/01/2011", "RAIL_FRT_INTERMODAL": 997012}, {"dt": "08/01/2011", "RAIL_FRT_INTERMODAL": 1045925}, {"dt": "09/01/2011", "RAIL_FRT_INTERMODAL": 1014029}, {"dt": "10/01/2011", "RAIL_FRT_INTERMODAL": 1079741}, {"dt": "11/01/2011", "RAIL_FRT_INTERMODAL": 989342}, {"dt": "12/01/2011", "RAIL_FRT_INTERMODAL": 977960}, {"dt": "01/01/2012", "RAIL_FRT_INTERMODAL": 977417}, {"dt": "02/01/2012", "RAIL_FRT_INTERMODAL": 925371}, {"dt": "03/01/2012", "RAIL_FRT_INTERMODAL": 1025735}, {"dt": "04/01/2012", "RAIL_FRT_INTERMODAL": 1015261}, {"dt": "05/01/2012", "RAIL_FRT_INTERMODAL": 1048915}, {"dt": "06/01/2012", "RAIL_FRT_INTERMODAL": 1057111}, {"dt": "07/01/2012", "RAIL_FRT_INTERMODAL": 1050304}, {"dt": "08/01/2012", "RAIL_FRT_INTERMODAL": 1091182}, {"dt": "09/01/2012", "RAIL_FRT_INTERMODAL": 1055933}, {"dt": "10/01/2012", "RAIL_FRT_INTERMODAL": 1101408}, {"dt": "11/01/2012", "RAIL_FRT_INTERMODAL": 996259}, {"dt": "12/01/2012", "RAIL_FRT_INTERMODAL": 973474}, {"dt": "01/01/2013", "RAIL_FRT_INTERMODAL": 1046442}, {"dt": "02/01/2013", "RAIL_FRT_INTERMODAL": 983077}, {"dt": "03/01/2013", "RAIL_FRT_INTERMODAL": 1037566}, {"dt": "04/01/2013", "RAIL_FRT_INTERMODAL": 1034194}, {"dt": "05/01/2013", "RAIL_FRT_INTERMODAL": 1077102}, {"dt": "06/01/2013", "RAIL_FRT_INTERMODAL": 1070484}, {"dt": "07/01/2013", "RAIL_FRT_INTERMODAL": 1079970}, {"dt": "08/01/2013", "RAIL_FRT_INTERMODAL": 1140462}, {"dt": "09/01/2013", "RAIL_FRT_INTERMODAL": 1103442}, {"dt": "10/01/2013", "RAIL_FRT_INTERMODAL": 1165982}, {"dt": "11/01/2013", "RAIL_FRT_INTERMODAL": 1083084}, {"dt": "12/01/2013", "RAIL_FRT_INTERMODAL": 1038694}, {"dt": "01/01/2014", "RAIL_FRT_INTERMODAL": 1067964}, {"dt": "02/01/2014", "RAIL_FRT_INTERMODAL": 992254}, {"dt": "03/01/2014", "RAIL_FRT_INTERMODAL": 1137395}, {"dt": "04/01/2014", "RAIL_FRT_INTERMODAL": 1126987}, {"dt": "05/01/2014", "RAIL_FRT_INTERMODAL": 1160489}, {"dt": "06/01/2014", "RAIL_FRT_INTERMODAL": 1142230}, {"dt": "07/01/2014", "RAIL_FRT_INTERMODAL": 1144252}, {"dt": "08/01/2014", "RAIL_FRT_INTERMODAL": 1187136}, {"dt": "09/01/2014", "RAIL_FRT_INTERMODAL": 1157442}, {"dt": "10/01/2014", "RAIL_FRT_INTERMODAL": 1223207}, {"dt": "11/01/2014", "RAIL_FRT_INTERMODAL": 1113273}, {"dt": "12/01/2014", "RAIL_FRT_INTERMODAL": 1070542}, {"dt": "01/01/2015", "RAIL_FRT_INTERMODAL": 1084673}, {"dt": "02/01/2015", "RAIL_FRT_INTERMODAL": 929348}, {"dt": "03/01/2015", "RAIL_FRT_INTERMODAL": 1200332}, {"dt": "04/01/2015", "RAIL_FRT_INTERMODAL": 1186358}, {"dt": "05/01/2015", "RAIL_FRT_INTERMODAL": 1206950}, {"dt": "06/01/2015", "RAIL_FRT_INTERMODAL": 1186247}, {"dt": "07/01/2015", "RAIL_FRT_INTERMODAL": 1184112}, {"dt": "08/01/2015", "RAIL_FRT_INTERMODAL": 1232802}, {"dt": "09/01/2015", "RAIL_FRT_INTERMODAL": 1165129}, {"dt": "10/01/2015", "RAIL_FRT_INTERMODAL": 1209771}, {"dt": "11/01/2015", "RAIL_FRT_INTERMODAL": 1101811}, {"dt": "12/01/2015", "RAIL_FRT_INTERMODAL": 1049014}, {"dt": "01/01/2016", "RAIL_FRT_INTERMODAL": 1130858}, {"dt": "02/01/2016", "RAIL_FRT_INTERMODAL": 1087281}, {"dt": "03/01/2016", "RAIL_FRT_INTERMODAL": 1102697}, {"dt": "04/01/2016", "RAIL_FRT_INTERMODAL": 1101110}, {"dt": "05/01/2016", "RAIL_FRT_INTERMODAL": 1148705}, {"dt": "06/01/2016", "RAIL_FRT_INTERMODAL": 1120398}, {"dt": "07/01/2016", "RAIL_FRT_INTERMODAL": 1115819}, {"dt": "08/01/2016", "RAIL_FRT_INTERMODAL": 1175723}, {"dt": "09/01/2016", "RAIL_FRT_INTERMODAL": 1116007}, {"dt": "10/01/2016", "RAIL_FRT_INTERMODAL": 1192422}, {"dt": "11/01/2016", "RAIL_FRT_INTERMODAL": 1121925}, {"dt": "12/01/2016", "RAIL_FRT_INTERMODAL": 1131383}, {"dt": "01/01/2017", "RAIL_FRT_INTERMODAL": 1113971}, {"dt": "02/01/2017", "RAIL_FRT_INTERMODAL": 1040348}, {"dt": "03/01/2017", "RAIL_FRT_INTERMODAL": 1123340}, {"dt": "04/01/2017", "RAIL_FRT_INTERMODAL": 1103713}, {"dt": "05/01/2017", "RAIL_FRT_INTERMODAL": 1171410}, {"dt": "06/01/2017", "RAIL_FRT_INTERMODAL": 1156506}, {"dt": "07/01/2017", "RAIL_FRT_INTERMODAL": 1153881}, {"dt": "08/01/2017", "RAIL_FRT_INTERMODAL": 1216328}, {"dt": "09/01/2017", "RAIL_FRT_INTERMODAL": 1139093}, {"dt": "10/01/2017", "RAIL_FRT_INTERMODAL": 1233353}, {"dt": "11/01/2017", "RAIL_FRT_INTERMODAL": 1143806}, {"dt": "12/01/2017", "RAIL_FRT_INTERMODAL": 1155490}, {"dt": "01/01/2018", "RAIL_FRT_INTERMODAL": 1159338}, {"dt": "02/01/2018", "RAIL_FRT_INTERMODAL": 1105421}, {"dt": "03/01/2018", "RAIL_FRT_INTERMODAL": 1201985}, {"dt": "04/01/2018", "RAIL_FRT_INTERMODAL": 1179073}, {"dt": "05/01/2018", "RAIL_FRT_INTERMODAL": 1244509}, {"dt": "06/01/2018", "RAIL_FRT_INTERMODAL": 1233577}, {"dt": "07/01/2018", "RAIL_FRT_INTERMODAL": 1232880}, {"dt": "08/01/2018", "RAIL_FRT_INTERMODAL": 1276948}, {"dt": "09/01/2018", "RAIL_FRT_INTERMODAL": 1209202}, {"dt": "10/01/2018", "RAIL_FRT_INTERMODAL": 1279057}, {"dt": "11/01/2018", "RAIL_FRT_INTERMODAL": 1183104}, {"dt": "12/01/2018", "RAIL_FRT_INTERMODAL": 1199347}, {"dt": "01/01/2019", "RAIL_FRT_INTERMODAL": 1181896}, {"dt": "02/01/2019", "RAIL_FRT_INTERMODAL": 1088287}, {"dt": "03/01/2019", "RAIL_FRT_INTERMODAL": 1182130}, {"dt": "04/01/2019", "RAIL_FRT_INTERMODAL": 1133354}, {"dt": "05/01/2019", "RAIL_FRT_INTERMODAL": 1166977}, {"dt": "06/01/2019", "RAIL_FRT_INTERMODAL": 1142915}, {"dt": "07/01/2019", "RAIL_FRT_INTERMODAL": 1163930}, {"dt": "08/01/2019", "RAIL_FRT_INTERMODAL": 1207740}, {"dt": "09/01/2019", "RAIL_FRT_INTERMODAL": 1138058}, {"dt": "10/01/2019", "RAIL_FRT_INTERMODAL": 1179756}, {"dt": "11/01/2019", "RAIL_FRT_INTERMODAL": 1095406}, {"dt": "12/01/2019", "RAIL_FRT_INTERMODAL": 1075973}, {"dt": "01/01/2020", "RAIL_FRT_INTERMODAL": 1121664}, {"dt": "02/01/2020", "RAIL_FRT_INTERMODAL": 1036215}, {"dt": "03/01/2020", "RAIL_FRT_INTERMODAL": 1028873}, {"dt": "04/01/2020", "RAIL_FRT_INTERMODAL": 936802}, {"dt": "05/01/2020", "RAIL_FRT_INTERMODAL": 1012346}, {"dt": "06/01/2020", "RAIL_FRT_INTERMODAL": 1075605}, {"dt": "07/01/2020", "RAIL_FRT_INTERMODAL": 1152235}, {"dt": "08/01/2020", "RAIL_FRT_INTERMODAL": 1243652}, {"dt": "09/01/2020", "RAIL_FRT_INTERMODAL": 1218979}, {"dt": "10/01/2020", "RAIL_FRT_INTERMODAL": 1292686}, {"dt": "11/01/2020", "RAIL_FRT_INTERMODAL": 1221661}, {"dt": "12/01/2020", "RAIL_FRT_INTERMODAL": 1186808}, {"dt": "01/01/2021", "RAIL_FRT_INTERMODAL": 1274512}, {"dt": "02/01/2021", "RAIL_FRT_INTERMODAL": 1017915}, {"dt": "03/01/2021", "RAIL_FRT_INTERMODAL": 1267475}, {"dt": "04/01/2021", "RAIL_FRT_INTERMODAL": 1253645}, {"dt": "05/01/2021", "RAIL_FRT_INTERMODAL": 1269401}, {"dt": "06/01/2021", "RAIL_FRT_INTERMODAL": 1193672}, {"dt": "07/01/2021", "RAIL_FRT_INTERMODAL": 1184486}, {"dt": "08/01/2021", "RAIL_FRT_INTERMODAL": 1199436}, {"dt": "09/01/2021", "RAIL_FRT_INTERMODAL": 1136168}, {"dt": "10/01/2021", "RAIL_FRT_INTERMODAL": 1194144}, {"dt": "11/01/2021", "RAIL_FRT_INTERMODAL": 1106405}, {"dt": "12/01/2021", "RAIL_FRT_INTERMODAL": 1080977}, {"dt": "01/01/2022", "RAIL_FRT_INTERMODAL": 1097053}, {"dt": "02/01/2022", "RAIL_FRT_INTERMODAL": 1037872}, {"dt": "03/01/2022", "RAIL_FRT_INTERMODAL": 1184841}]}}, {"mode": "vega-lite"});
</script></div>

        
    
        
    
        
    
        
    
        
    

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Vehicle-Miles-Traveled">Vehicle Miles Traveled<a class="anchor-link" href="#Vehicle-Miles-Traveled">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">doComboChart</span><span class="p">(</span><span class="n">df_af</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;VMT&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;US Vehicle Miles Travels&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Miles&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>



   
        
            
<div class="output_html rendered_html output_subarea output_execute_result">
<div id="altair-viz-7b868fe82bc741e5ae971fc8bcfebddb"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-7b868fe82bc741e5ae971fc8bcfebddb") {
      outputDiv = document.getElementById("altair-viz-7b868fe82bc741e5ae971fc8bcfebddb");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.17.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "4.17.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"mark": {"type": "bar", "color": "blue", "width": 2}, "encoding": {"color": {"condition": {"value": "lightsalmon", "test": "datum['yoy'] < 0"}, "value": "royalblue"}, "tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "VMT", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "impute": {"value": null}, "scale": {"domain": {"selection": "selector005"}}, "type": "temporal"}, "y": {"axis": {"title": "Year-over-Year Growth [%]"}, "field": "yoy", "impute": {"keyvals": [400, 1000], "method": "value"}, "type": "quantitative"}}, "height": 400, "title": "US Vehicle Miles Travels", "transform": [{"window": [{"op": "lag", "field": "VMT", "param": 12, "as": "previous"}], "sort": [{"field": "dt"}]}, {"calculate": "((datum['VMT'] - datum.previous) / datum.previous) * 100", "as": "yoy"}], "width": 750}, {"mark": {"type": "line", "color": "purple"}, "encoding": {"tooltip": [{"field": "dt", "format": "%b %Y", "type": "temporal"}, {"field": "VMT", "format": ",.02f", "type": "quantitative"}], "x": {"axis": {"title": ""}, "field": "dt", "type": "temporal"}, "y": {"axis": {"title": "Miles"}, "field": "VMT", "type": "quantitative"}}, "height": 100, "selection": {"selector005": {"type": "interval", "encodings": ["x"]}}, "width": 750}], "background": "white", "data": {"name": "data-52b80d1d638df831a7ffc03681d8be20"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-52b80d1d638df831a7ffc03681d8be20": [{"dt": "01/01/2000", "VMT": 203442.0}, {"dt": "02/01/2000", "VMT": 199261.0}, {"dt": "03/01/2000", "VMT": 232490.0}, {"dt": "04/01/2000", "VMT": 227698.0}, {"dt": "05/01/2000", "VMT": 242501.0}, {"dt": "06/01/2000", "VMT": 242963.0}, {"dt": "07/01/2000", "VMT": 245140.0}, {"dt": "08/01/2000", "VMT": 247832.0}, {"dt": "09/01/2000", "VMT": 227899.0}, {"dt": "10/01/2000", "VMT": 236491.0}, {"dt": "11/01/2000", "VMT": 222819.0}, {"dt": "12/01/2000", "VMT": 218390.0}, {"dt": "01/01/2001", "VMT": 209685.0}, {"dt": "02/01/2001", "VMT": 200876.0}, {"dt": "03/01/2001", "VMT": 232587.0}, {"dt": "04/01/2001", "VMT": 232513.0}, {"dt": "05/01/2001", "VMT": 245357.0}, {"dt": "06/01/2001", "VMT": 243498.0}, {"dt": "07/01/2001", "VMT": 250363.0}, {"dt": "08/01/2001", "VMT": 253274.0}, {"dt": "09/01/2001", "VMT": 226312.0}, {"dt": "10/01/2001", "VMT": 241050.0}, {"dt": "11/01/2001", "VMT": 230511.0}, {"dt": "12/01/2001", "VMT": 229584.0}, {"dt": "01/01/2002", "VMT": 215215.0}, {"dt": "02/01/2002", "VMT": 208237.0}, {"dt": "03/01/2002", "VMT": 236070.0}, {"dt": "04/01/2002", "VMT": 237226.0}, {"dt": "05/01/2002", "VMT": 251746.0}, {"dt": "06/01/2002", "VMT": 247868.0}, {"dt": "07/01/2002", "VMT": 256392.0}, {"dt": "08/01/2002", "VMT": 258666.0}, {"dt": "09/01/2002", "VMT": 233625.0}, {"dt": "10/01/2002", "VMT": 245556.0}, {"dt": "11/01/2002", "VMT": 230648.0}, {"dt": "12/01/2002", "VMT": 234260.0}, {"dt": "01/01/2003", "VMT": 218534.0}, {"dt": "02/01/2003", "VMT": 203677.0}, {"dt": "03/01/2003", "VMT": 236679.0}, {"dt": "04/01/2003", "VMT": 239415.0}, {"dt": "05/01/2003", "VMT": 253244.0}, {"dt": "06/01/2003", "VMT": 252145.0}, {"dt": "07/01/2003", "VMT": 262105.0}, {"dt": "08/01/2003", "VMT": 260687.0}, {"dt": "09/01/2003", "VMT": 237451.0}, {"dt": "10/01/2003", "VMT": 254048.0}, {"dt": "11/01/2003", "VMT": 233698.0}, {"dt": "12/01/2003", "VMT": 238538.0}, {"dt": "01/01/2004", "VMT": 222450.0}, {"dt": "02/01/2004", "VMT": 213709.0}, {"dt": "03/01/2004", "VMT": 251403.0}, {"dt": "04/01/2004", "VMT": 250968.0}, {"dt": "05/01/2004", "VMT": 257235.0}, {"dt": "06/01/2004", "VMT": 257383.0}, {"dt": "07/01/2004", "VMT": 265969.0}, {"dt": "08/01/2004", "VMT": 262836.0}, {"dt": "09/01/2004", "VMT": 243515.0}, {"dt": "10/01/2004", "VMT": 254496.0}, {"dt": "11/01/2004", "VMT": 239796.0}, {"dt": "12/01/2004", "VMT": 245029.0}, {"dt": "01/01/2005", "VMT": 224072.0}, {"dt": "02/01/2005", "VMT": 219970.0}, {"dt": "03/01/2005", "VMT": 253182.0}, {"dt": "04/01/2005", "VMT": 250860.0}, {"dt": "05/01/2005", "VMT": 262678.0}, {"dt": "06/01/2005", "VMT": 263816.0}, {"dt": "07/01/2005", "VMT": 267025.0}, {"dt": "08/01/2005", "VMT": 265323.0}, {"dt": "09/01/2005", "VMT": 242240.0}, {"dt": "10/01/2005", "VMT": 251419.0}, {"dt": "11/01/2005", "VMT": 243056.0}, {"dt": "12/01/2005", "VMT": 245787.0}, {"dt": "01/01/2006", "VMT": 233282.0}, {"dt": "02/01/2006", "VMT": 220711.0}, {"dt": "03/01/2006", "VMT": 256623.0}, {"dt": "04/01/2006", "VMT": 250644.0}, {"dt": "05/01/2006", "VMT": 263370.0}, {"dt": "06/01/2006", "VMT": 263782.0}, {"dt": "07/01/2006", "VMT": 263421.0}, {"dt": "08/01/2006", "VMT": 265206.0}, {"dt": "09/01/2006", "VMT": 245605.0}, {"dt": "10/01/2006", "VMT": 257939.0}, {"dt": "11/01/2006", "VMT": 245346.0}, {"dt": "12/01/2006", "VMT": 248187.0}, {"dt": "01/01/2007", "VMT": 233621.0}, {"dt": "02/01/2007", "VMT": 219232.0}, {"dt": "03/01/2007", "VMT": 259638.0}, {"dt": "04/01/2007", "VMT": 252595.0}, {"dt": "05/01/2007", "VMT": 267574.0}, {"dt": "06/01/2007", "VMT": 265374.0}, {"dt": "07/01/2007", "VMT": 267106.0}, {"dt": "08/01/2007", "VMT": 271225.0}, {"dt": "09/01/2007", "VMT": 245965.0}, {"dt": "10/01/2007", "VMT": 261423.0}, {"dt": "11/01/2007", "VMT": 245787.0}, {"dt": "12/01/2007", "VMT": 240281.0}, {"dt": "01/01/2008", "VMT": 232920.0}, {"dt": "02/01/2008", "VMT": 221336.0}, {"dt": "03/01/2008", "VMT": 252343.0}, {"dt": "04/01/2008", "VMT": 252088.0}, {"dt": "05/01/2008", "VMT": 261466.0}, {"dt": "06/01/2008", "VMT": 257484.0}, {"dt": "07/01/2008", "VMT": 261600.0}, {"dt": "08/01/2008", "VMT": 260609.0}, {"dt": "09/01/2008", "VMT": 239607.0}, {"dt": "10/01/2008", "VMT": 255848.0}, {"dt": "11/01/2008", "VMT": 236465.0}, {"dt": "12/01/2008", "VMT": 241742.0}, {"dt": "01/01/2009", "VMT": 225529.0}, {"dt": "02/01/2009", "VMT": 217643.0}, {"dt": "03/01/2009", "VMT": 249741.0}, {"dt": "04/01/2009", "VMT": 251374.0}, {"dt": "05/01/2009", "VMT": 258276.0}, {"dt": "06/01/2009", "VMT": 258395.0}, {"dt": "07/01/2009", "VMT": 264472.0}, {"dt": "08/01/2009", "VMT": 260297.0}, {"dt": "09/01/2009", "VMT": 241970.0}, {"dt": "10/01/2009", "VMT": 252209.0}, {"dt": "11/01/2009", "VMT": 237264.0}, {"dt": "12/01/2009", "VMT": 239593.0}, {"dt": "01/01/2010", "VMT": 220839.0}, {"dt": "02/01/2010", "VMT": 210635.0}, {"dt": "03/01/2010", "VMT": 254238.0}, {"dt": "04/01/2010", "VMT": 253936.0}, {"dt": "05/01/2010", "VMT": 256927.0}, {"dt": "06/01/2010", "VMT": 260083.0}, {"dt": "07/01/2010", "VMT": 265315.0}, {"dt": "08/01/2010", "VMT": 263837.0}, {"dt": "09/01/2010", "VMT": 244682.0}, {"dt": "10/01/2010", "VMT": 256395.0}, {"dt": "11/01/2010", "VMT": 239579.0}, {"dt": "12/01/2010", "VMT": 240800.0}, {"dt": "01/01/2011", "VMT": 223790.0}, {"dt": "02/01/2011", "VMT": 213463.0}, {"dt": "03/01/2011", "VMT": 253124.0}, {"dt": "04/01/2011", "VMT": 249578.0}, {"dt": "05/01/2011", "VMT": 254083.0}, {"dt": "06/01/2011", "VMT": 258350.0}, {"dt": "07/01/2011", "VMT": 260175.0}, {"dt": "08/01/2011", "VMT": 260526.0}, {"dt": "09/01/2011", "VMT": 242062.0}, {"dt": "10/01/2011", "VMT": 251906.0}, {"dt": "11/01/2011", "VMT": 238535.0}, {"dt": "12/01/2011", "VMT": 244810.0}, {"dt": "01/01/2012", "VMT": 227527.0}, {"dt": "02/01/2012", "VMT": 218196.0}, {"dt": "03/01/2012", "VMT": 256166.0}, {"dt": "04/01/2012", "VMT": 249394.0}, {"dt": "05/01/2012", "VMT": 260774.0}, {"dt": "06/01/2012", "VMT": 260376.0}, {"dt": "07/01/2012", "VMT": 260244.0}, {"dt": "08/01/2012", "VMT": 264379.0}, {"dt": "09/01/2012", "VMT": 238867.0}, {"dt": "10/01/2012", "VMT": 253574.0}, {"dt": "11/01/2012", "VMT": 240361.0}, {"dt": "12/01/2012", "VMT": 238709.0}, {"dt": "01/01/2013", "VMT": 229419.0}, {"dt": "02/01/2013", "VMT": 215803.0}, {"dt": "03/01/2013", "VMT": 253026.0}, {"dt": "04/01/2013", "VMT": 252064.0}, {"dt": "05/01/2013", "VMT": 263406.0}, {"dt": "06/01/2013", "VMT": 259980.0}, {"dt": "07/01/2013", "VMT": 263946.0}, {"dt": "08/01/2013", "VMT": 268061.0}, {"dt": "09/01/2013", "VMT": 242536.0}, {"dt": "10/01/2013", "VMT": 258748.0}, {"dt": "11/01/2013", "VMT": 240055.0}, {"dt": "12/01/2013", "VMT": 241237.0}, {"dt": "01/01/2014", "VMT": 226413.0}, {"dt": "02/01/2014", "VMT": 213949.0}, {"dt": "03/01/2014", "VMT": 253424.0}, {"dt": "04/01/2014", "VMT": 256736.0}, {"dt": "05/01/2014", "VMT": 266237.0}, {"dt": "06/01/2014", "VMT": 263459.0}, {"dt": "07/01/2014", "VMT": 270053.0}, {"dt": "08/01/2014", "VMT": 268831.0}, {"dt": "09/01/2014", "VMT": 247688.0}, {"dt": "10/01/2014", "VMT": 265144.0}, {"dt": "11/01/2014", "VMT": 241451.0}, {"dt": "12/01/2014", "VMT": 252271.0}, {"dt": "01/01/2015", "VMT": 233498.0}, {"dt": "02/01/2015", "VMT": 217220.0}, {"dt": "03/01/2015", "VMT": 258017.0}, {"dt": "04/01/2015", "VMT": 262817.0}, {"dt": "05/01/2015", "VMT": 270839.0}, {"dt": "06/01/2015", "VMT": 270574.0}, {"dt": "07/01/2015", "VMT": 278372.0}, {"dt": "08/01/2015", "VMT": 272209.0}, {"dt": "09/01/2015", "VMT": 255090.0}, {"dt": "10/01/2015", "VMT": 268469.0}, {"dt": "11/01/2015", "VMT": 248843.0}, {"dt": "12/01/2015", "VMT": 259424.0}, {"dt": "01/01/2016", "VMT": 239679.0}, {"dt": "02/01/2016", "VMT": 223011.0}, {"dt": "03/01/2016", "VMT": 265147.0}, {"dt": "04/01/2016", "VMT": 269653.0}, {"dt": "05/01/2016", "VMT": 277972.0}, {"dt": "06/01/2016", "VMT": 276991.0}, {"dt": "07/01/2016", "VMT": 285160.0}, {"dt": "08/01/2016", "VMT": 279213.0}, {"dt": "09/01/2016", "VMT": 262039.0}, {"dt": "10/01/2016", "VMT": 275610.0}, {"dt": "11/01/2016", "VMT": 255154.0}, {"dt": "12/01/2016", "VMT": 264778.0}, {"dt": "01/01/2017", "VMT": 242600.0}, {"dt": "02/01/2017", "VMT": 225644.0}, {"dt": "03/01/2017", "VMT": 268343.0}, {"dt": "04/01/2017", "VMT": 272864.0}, {"dt": "05/01/2017", "VMT": 281264.0}, {"dt": "06/01/2017", "VMT": 280290.0}, {"dt": "07/01/2017", "VMT": 288566.0}, {"dt": "08/01/2017", "VMT": 282558.0}, {"dt": "09/01/2017", "VMT": 265212.0}, {"dt": "10/01/2017", "VMT": 278888.0}, {"dt": "11/01/2017", "VMT": 258159.0}, {"dt": "12/01/2017", "VMT": 267958.0}, {"dt": "01/01/2018", "VMT": 244736.0}, {"dt": "02/01/2018", "VMT": 227759.0}, {"dt": "03/01/2018", "VMT": 270705.0}, {"dt": "04/01/2018", "VMT": 275127.0}, {"dt": "05/01/2018", "VMT": 283713.0}, {"dt": "06/01/2018", "VMT": 282648.0}, {"dt": "07/01/2018", "VMT": 290989.0}, {"dt": "08/01/2018", "VMT": 284989.0}, {"dt": "09/01/2018", "VMT": 267434.0}, {"dt": "10/01/2018", "VMT": 281382.0}, {"dt": "11/01/2018", "VMT": 260473.0}, {"dt": "12/01/2018", "VMT": 270370.0}, {"dt": "01/01/2019", "VMT": 248927.0}, {"dt": "02/01/2019", "VMT": 231791.0}, {"dt": "03/01/2019", "VMT": 272379.0}, {"dt": "04/01/2019", "VMT": 273413.0}, {"dt": "05/01/2019", "VMT": 289711.0}, {"dt": "06/01/2019", "VMT": 281359.0}, {"dt": "07/01/2019", "VMT": 291520.0}, {"dt": "08/01/2019", "VMT": 293308.0}, {"dt": "09/01/2019", "VMT": 273319.0}, {"dt": "10/01/2019", "VMT": 283961.0}, {"dt": "11/01/2019", "VMT": 260326.0}, {"dt": "12/01/2019", "VMT": 261757.0}, {"dt": "01/01/2020", "VMT": 260847.0}, {"dt": "02/01/2020", "VMT": 242695.0}, {"dt": "03/01/2020", "VMT": 226638.0}, {"dt": "04/01/2020", "VMT": 167617.0}, {"dt": "05/01/2020", "VMT": 221006.0}, {"dt": "06/01/2020", "VMT": 250330.0}, {"dt": "07/01/2020", "VMT": 265550.0}, {"dt": "08/01/2020", "VMT": 265060.0}, {"dt": "09/01/2020", "VMT": 257531.0}, {"dt": "10/01/2020", "VMT": 266596.0}, {"dt": "11/01/2020", "VMT": 238300.0}, {"dt": "12/01/2020", "VMT": 241451.0}, {"dt": "01/01/2021", "VMT": 231030.0}, {"dt": "02/01/2021", "VMT": 213038.0}, {"dt": "03/01/2021", "VMT": 269475.0}, {"dt": "04/01/2021", "VMT": 259463.0}, {"dt": "05/01/2021", "VMT": 284366.0}, {"dt": "06/01/2021", "VMT": 286930.0}, {"dt": "07/01/2021", "VMT": 296475.0}, {"dt": "08/01/2021", "VMT": 287422.0}, {"dt": "09/01/2021", "VMT": 277999.0}, {"dt": "10/01/2021", "VMT": 285759.0}, {"dt": "11/01/2021", "VMT": 267749.0}, {"dt": "12/01/2021", "VMT": 268420.0}, {"dt": "01/01/2022", "VMT": 240540.0}, {"dt": "02/01/2022", "VMT": 235668.0}]}}, {"mode": "vega-lite"});
</script></div>

        
    
        
    
        
    
        
    
        
    

</div>

</div>
</div>

</div>
<hr>
&copy; <script>document.write(`${new Date().getFullYear()}`);</script> pymoment
</div>
</div>
</body>


<script>
// TODO - some, or all of this could be moved to pre-rendering sed/regex
// add bootstrap table styles to pandoc tables (notebooks)
$(document).ready( () => {

  $('tr').parent('thead').parent('table').addClass('table table-condensed');
  $('tr').parent('thead').parent('table').removeAttr('border');
  $('tr').parent('thead').parent('table').removeClass('dataframe');

  $('.output_area .output_html table thead tr').removeAttr('style');
  $('.output_area .output_html table thead tr th').attr("scope", "col");

  $('.output_area .output_html table tbody tr th').attr("scope", "row");


  // Change the input cell gutter text, make it a link
  $('.input .input_prompt').map((n, e) => {
    e.innerHTML = `<a href="#" >Show Code Cell [${n + 1}]</a>`;
  });

  // Attach an event listener to the above link for show/hide
  $('.input .input_prompt a').map((n, e) => {
    const showOrHide = e => {
      e.preventDefault();
      $(`#code-${n}`).find('.inner_cell').toggleClass('collapse');
      const v = $(`#code-${n}`).find('.input_prompt a');
      if (v.html().includes('Show')) {
        v.html(`Hide Code Cell [${n+1}]`);
      } else {
        v.html(`Show Code Cell [${n+1}]`);
      }
    }

    e.addEventListener("click", showOrHide, false);
  });

  // Annotate parent cells of input cells with id/classes
  $('.input .inner_cell').map((n, e) => {
    $('.input .inner_cell').parent('div').toArray()[n].id = `code-${n}`;
  });
  $('.input .inner_cell')
    .addClass("collapse")
    .after('<div class="inner_cell" style="font-size: 150%; padding-left: 5px;">...</div>');

});
</script>
    

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-L3L3NJKFJP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L3L3NJKFJP');
</script>

</html>
